:: Start [start]

Welcome to the Twine adaptation of the Abyss Diver CYOA! (Adapted with love by FloricSpacer)

Thanks to all the people the assisted with the development of this game in any way.

<button class="dark-btn obsidian" data-passage="Credits" data-setter="$temp = 0">Credits</button>

Please note that Abyss Diver is a highly intricate CYOA-based game, and adapting it from its original format has presented its fair share of challenges. While it's not feasible to implement every possible combination of Relics, we encourage you to send us your ideas, and they could likely be incorporated into the game! In case you think the game hasn't accounted for a particular advantage, you can adjust your stats through the Adjustments menu found on the Use Items page. This function allows you to change your dubloons, corruption, or other stats. <b>Only use this function if you have a well-thought-out justification for the change!</b>

At times, you'll be presented with open-ended options to use a combination of Relics to overcome obstacles. This feature is designed to encourage creative solutions that may not be explicitly coded into the game. Although these situations may not arise frequently in the early layers, later layers will require more ingenuity in dealing with threats that can't be explicitly addressed. <b>Choose this option only if you have a viable plan that effectively deals with the threat and isn't already listed as an option on the page!</b>

We appreciate your feedback on the game's design, gameplay, and writing or any bugs you may encounter. Your suggestions will help us enhance the gaming experience for everyone!

This game allows you to use an OpenAI API key to generate player portraits automatically, taking into account all of your transformations and changes to your appearance. You can disable this option in settings. You can add your API key and generater the images from the appearance menu. If you want to use this feature, but aren't sure how, click the link below for a brief guide on getting an API key!
<button class="dark-btn obsidian" data-passage="API Key Guide">API Key Guide</button>

<div style="margin-bottom: 20px;">
For those interested in viewing the latest code or content changes or contributing to the project, please visit our public Github repository! There is also a fan-made wiki available! However, it is full of spoilers, so it is strongly recommended to not look at it for a first dive! You can also join our Discord server, where we have regular discussion regarding the game and development.
</div>
<div style="display: flex; justify-content: center; gap: 20px;">
<a href="https://github.com/FloricSpacer/AbyssDiver" target="_blank" style="display: inline-flex; justify-content: center; align-items: center; font-size: 0; background: #000a; border: 8px solid transparent; border-image: url('images/bordershop.png') 82 / 20px / 10px round; box-shadow: 0 0 4px 0 black; width: min-content; line-height: 1.5; text-align: center; padding: 8px;">
<span style="display: inline-block; width: 64px; height: 64px; background-color: transparent;">
<img src="images/icons/github-icon.png" alt="Github Repository" style="width: 64px; height: 64px; filter: invert(1);">
</span>
</a>
<a href="https://abyss-diver.fandom.com/wiki/Abyss_Diver_Interactive_Wiki" target="_blank" style="display: inline-flex; justify-content: center; align-items: center; font-size: 0; background: #000a; border: 8px solid transparent; border-image: url('images/bordershop.png') 82 / 20px / 10px round; box-shadow: 0 0 4px 0 black; width: min-content; line-height: 1.5; text-align: center; padding: 8px;">
<span style="display: inline-block; width: 64px; height: 64px; background-color: transparent;">
<img src="images/icons/wiki-icon.png" alt="Fan-made Wiki" style="width: 64px; height: 64px; filter: invert(1);">
</span>
</a>
<a href="https://discord.gg/gXnq5rmjxG" target="_blank" style="display: inline-flex; justify-content: center; align-items: center; font-size: 0; background: #000a; border: 8px solid transparent; border-image: url('images/bordershop.png') 82 / 20px / 10px round; box-shadow: 0 0 4px 0 black; width: min-content; line-height: 1.5; text-align: center; padding: 8px;">
<span style="display: inline-block; width: 64px; height: 64px; background-color: transparent;">
<img src="images/icons/discord-icon.png" alt="Discord Server" style="width: 64px; height: 64px; filter: invert(1);">
</span>
</a>
</div>

<div class="btn-adventure-container">
	<button class="btn-adventure" data-passage="Start 2">Begin your adventure</button><<set setup.devilsReroll = 0>>
</div>

:: Start 2 [start nobr cards]

<p>Abyss Diver will autosave each time you change from one layer to another, so you have <i>a bit</i> of safety. You never know when an unexpected danger could arise in the Abyss, but sometimes it's best to live with the consequences and see where your story takes you.</p>

<p><b>This game is very NSFW</b>, as it contains both sexual and potentially disturbing imagery, so you should not play if you are not at least 18 years old! However, if you're at least 18 years old and prepared to brave the depths of the Abyss, proceed.</p>

<div class="cards-grid">
    <div>
		<img src="images/Surface/easymode.png" alt="Easy Mode Icon">
        <h2>Easy Mode</h2>
        <p class="cost">Beginner</p>
        <button class="dark-btn steel" data-passage="Start 3" data-setter="$items[0].count += 14; $items[1].count += 14; $compTok = 1; $easymode=true">Easy Mode</button>
        <p>Begin with two weeks worth of food and water, plus a token to recruit a companion for free. While this mode eases exploration pressure, it's not recommended as it may diminish some of the feeling of overcoming the dangers of the Abyss in early layers. No content is lost in this mode.</p>
    </div>
    
    <div>
        <img src="images/Surface/normalmode.png" alt="Normal Mode Icon">
		<h2>Normal Mode</h2>
        <p class="cost">Recommended</p>
        <button class="dark-btn steel" data-passage="Start 3">Normal Mode</button>
        <p>Normal difficulty - ideal for most players.</p>
    </div>
    
    <div>
        <img src="images/Surface/advancedmode.png" alt="Advanced Mode Icon">
		<h2>Advanced Mode</h2>
        <p class="cost">Experienced</p>
        <button class="dark-btn steel" data-passage="Start 3" data-setter="$corruption = -50">Advanced Mode</button>
        <p>For experienced players familiar with the Abyss. Reduces starting corruption points by 50 to balance your advanced knowledge. Recommended for players who have previously played the game.</p>
    </div>
</div>

:: Gender Selection
Please select your sex:

<div class="gender-container">
<<if $mc.osex === "male">>
    <button class="gender-btn gender-btn-male active" data-passage="Start 3" data-setter="$mc.mindSex = 'male'; $mc.osex = 'male'; $mc.openis = 6; $mc.obreasts = 0;">♂</button>
    <button class="gender-btn gender-btn-female" data-passage="Start 3" data-setter="$selectedGender = 'female'; $mc.mindSex = 'female'; $mc.osex = 'female'; $mc.openis = 0; $mc.obreasts = 3;">♀</button>
<<else>>
    <button class="gender-btn gender-btn-male" data-passage="Start 3" data-setter="$mc.mindSex = 'male'; $mc.osex = 'male'; $mc.openis = 6; $mc.obreasts = 0;">♂</button>
    <button class="gender-btn gender-btn-female active" data-passage="Start 3" data-setter="$selectedGender = 'female'; $mc.mindSex = 'female'; $mc.osex = 'female'; $mc.openis = 0; $mc.obreasts = 3;">♀</button>
<</if>>
</div>

:: Start 3 [start]

Alright! Before you embark on your journey into the Abyss, we need to get some details about you. Don't worry, this isn't some bureaucratic nonsense – it's for your own safety and identification. After all, the Abyss has a way of... changing people.

Please fill out the form below to describe yourself. Remember, while you're jotting down your current features, keep in mind that some of these might, well, evolve as you dive deeper into the Abyss. The Miasma works in mysterious ways, and who knows what you might look like after a few Curses?
<div id="genderSelection">
<<include "Gender Selection">>
</div>
Name:
<<textbox "$mc.name" $mc.name>>
<<nobr>>
<table class="character-table">
  <tr>
    <td style="width: 25%;">
		<h3>Body Build</h3>
		<label><input type="radio" id="fitness15" name="fitness" value="-5" onchange="updateDisplay(this.value)">Very Weak</label>
		<label><input type="radio" id="fitness18" name="fitness" value="-2" onchange="updateDisplay(this.value)">Weak</label>
		<label><input type="radio" id="fitness20" name="fitness" value="0" onchange="updateDisplay(this.value)" checked>Average</label>
		<label><input type="radio" id="fitness22" name="fitness" value="2" onchange="updateDisplay(this.value)">Fit</label>
		<label><input type="radio" id="fitness25" name="fitness" value="5" onchange="updateDisplay(this.value)">Very Fit</label>
		Your capacity is: <span id="capacityValue"></span>
		<p id="description"></p>
	</td>
    <td style="width: 25%;">
      <h3>Hair Color</h3>
      <label><<radiobutton "$mc.ohair" "black" autocheck>> Black</label>
      <label><<radiobutton "$mc.ohair" "brown" autocheck>> Brown</label>
      <label><<radiobutton "$mc.ohair" "blonde" autocheck>> Blonde</label>
      <label><<radiobutton "$mc.ohair" "red" autocheck>> Red</label>
      <label><<radiobutton "$mc.ohair" "gray" autocheck>> Gray</label>
    </td>
    <td style="width: 25%;">
      <h3>Eye Color</h3>
      <label><<radiobutton "$mc.oeyeColor" "blue" autocheck>> Blue</label>
      <label><<radiobutton "$mc.oeyeColor" "brown" autocheck>> Brown</label>
      <label><<radiobutton "$mc.oeyeColor" "gray" autocheck>> Gray</label>
      <label><<radiobutton "$mc.oeyeColor" "green" autocheck>> Green</label>
      <label><<radiobutton "$mc.oeyeColor" "hazel" autocheck>> Hazel</label>
      <label><<radiobutton "$mc.oeyeColor" "amber" autocheck>> Amber</label>
    </td>
    <td style="width: 25%;">
      <h3>Skin Color</h3>
      <label><<radiobutton "$mc.oskinColor" "pale" autocheck>> Pale</label>
      <label><<radiobutton "$mc.oskinColor" "tanned" autocheck>> Tanned</label>
      <label><<radiobutton "$mc.oskinColor" "olive" autocheck>> Olive</label>
      <label><<radiobutton "$mc.oskinColor" "brown" autocheck>> Brown</label>
      <label><<radiobutton "$mc.oskinColor" "dark brown" autocheck>> Dark Brown</label>
    </td>
  </tr>
  <tr>
    <td colspan="4">
      <<if $mc.osex === "female">>
        <h3>Breast Size</h3>
        <label><<radiobutton "$mc.obreasts" 0 autocheck>> Flat (Masculine)</label>
        <label><<radiobutton "$mc.obreasts" 1 autocheck>> AA</label>
        <label><<radiobutton "$mc.obreasts" 2 autocheck>> A</label>
        <label><<radiobutton "$mc.obreasts" 3 autocheck>> B</label>
        <label><<radiobutton "$mc.obreasts" 4 autocheck>> C</label>
        <label><<radiobutton "$mc.obreasts" 5 autocheck>> D</label>
        <label><<radiobutton "$mc.obreasts" 6 autocheck>> DD</label>
        <label><<radiobutton "$mc.obreasts" 7 autocheck>> E</label>
        <label><<radiobutton "$mc.obreasts" 8 autocheck>> F</label>
      <</if>>
      <<if $mc.osex === "male">>
        <h3>Penis Size</h3>
        <label><<radiobutton "$mc.openis" 4 autocheck>> Small</label>
        <label><<radiobutton "$mc.openis" 5 autocheck>> Slightly Below Average</label>
        <label><<radiobutton "$mc.openis" 6 autocheck>> Average</label>
        <label><<radiobutton "$mc.openis" 7 autocheck>> Large</label>
        <label><<radiobutton "$mc.openis" 8 autocheck>> Huge</label>
      <</if>>
    </td>
  </tr>
</table>
<</nobr>>
Height (to the nearest cm):
<<textbox "$mc.oheight" $mc.oheight>>

Age:
<<textbox "$mc.age" $mc.age>>

<button class="dark-btn obsidian" data-passage="Start 4" data-setter="$intro=true">Arrive at Outset Town</button>

<button class="dark-btn obsidian" data-passage="Start 4" data-setter="$intro=false">Quick Start</button> (Skips introduction - not recommended for new players)

<script>
function updateDisplay(value) {
	State.variables.mc.fit = parseInt(value);
    let adjustedValue = 20 + State.variables.mc.fit;
    document.getElementById("capacityValue").innerHTML = adjustedValue;
    let description = "";
    if (adjustedValue <= 16) {
        description = "You're out of shape.";
    } else if (adjustedValue <= 18) {
        description = "You could use some exercise.";
    } else if (adjustedValue <= 21) {
        description = "You're average.";
    } else if (adjustedValue <= 23) {
        description = "You're in shape.";
    } else {
        description = "You've taken very good care of yourself.";
    }
    document.getElementById("description").innerHTML = description;
}
updateDisplay(0)
</script>

:: Start 4 [surface nobr]
<<set $ocarryWeight = 20>>
<<if $mc.osex === "male">>
	<<if $mc.openis < 1>>
		<<set $mc.openis = 1>>
	<</if>>
	<<set $mc.ogender = 1>>
<<else>>
	<<set $mc.openis = 0>>
	<<set $mc.ogender = 6>>
	<<set $mc.osex = "female">>
	<<if $mc.obreasts < 1>>
		<<set $mc.obreasts = 1>>
	<</if>>
	<<set $menCycleFlag = true>>
	<<set $menFirstCycle = false>>
	<<set $menCycleT_flag = true>>
	<<set $heatCycleT_flag = true>>
<</if>>
<<set $mc.desiredBreasts = $mc.obreasts>>
<<set $carryWeight = $ocarryWeight>>
<<set $totalCarry = $carryWeight>>

<<if $intro>>
<<include "Surface 1">>
<<else>>
<<set $dubloons = 300>>
<<include "Surface Hub">>
<</if>>

:: API Key Guide [start]

In order to use the automatically generated portraits feature for this game, you must first put your own API key into the appearance page. This key will then be saved until you clear it, so you don't need to do this repeatedly in a playthrough.

<b>You can also get a few generations per day by using the free version of ChatGPT and pasting the prompt from the image page into ChatGPT! You can then manually add that portrait to the game by placing it in the GeneratedPortraits folder as the override image. This allows you to use the portrait generation feature for free, but only a few times per day.</b>

Keep in mind that each portrait generation will cost some money, depending on the current pricing of the DALL-E 3 model from OpenAI. As of publication, this should be about $0.04 per portrait. So it is quite cheap, but not free (which is why you need to provide your own API key!)

<b>Do NOT subscribe to ChatGPT Plus for this feature! Credits on your OpenAI account are totally separate from a ChatGPT Plus subscription!</b>

So, to get your API key, you will need to follow a few steps.

1. First, you must make an OpenAI account. This can be the same account you've used with ChatGPT if you have one. If you don't have one, you can create one at https://www.openai.com

2. Once you have an OpenAI account, you should head to https://platform.openai.com/signup and sign into your account. This should end with you on the Developer platform page.

3. Next, on the left tab, you should click the settings icon at the bottom of the list and then click the Billing subsection. Once you are there, you should add your payment information and purchase a few dollars of prepaid credit for your account. Each dollar will get you 25 portraits, so keep that in mind when you decide how much to put on your account. You must purchase at least $5 worth of credit to get access to DALL-E! But you can always add more later, so no need to put too much!

4. Finally, you can click on the API Keys icon on the left menu bar, which should look like a locked padlock. You can then click on the Create New Secret Key button to generate your API key. Once that's done, you can copy your API key and paste it in the appearance page.

Be sure not to share your API key with anyone, or they can use your credits for their own generations! But you can easily delete an API key from that same page, which will cut anyone off from using it, then you can make a new one for yourself!

<i>It may take up to 24 hours after you pruchase credits before OpenAI allows you to generate images. If you are unable to get it to work, try waiting a little while, then ask on the Discord server if the issue does not resolve itself.</i>

If you have any questions, feel free to ask on our Discord server. And you're very welcome to share any especially good portraits you get!

<button class="dark-btn obsidian" onclick="SugarCube.State.backward()">Back</button>