:: Layer9 1 [layer9]
<<nobr>>
<<set $currentLayer = 9>>
<<masteraudio stop>>
<<audio "layer9" volume 0.2 play loop>>
<<set $timeL8T2a = 0, $timeL8T2b = 0>>
<<set $timeL9T1 = 5>>
<<set $forcedL9Ending = false>>
<<set $LS_used = 0>>

<</nobr>>\
\
@@.layerTitle;
[img[setup.ImagePath+'Layer Intros/l9intro.png']]
!Layer 9 - Reaches of Oceanus
@@You submerge into the water and descend. Slowly the colorless architecture of the eighth layer fades, replaced once more by organic stone. And then the world opens up before you: you emerge from a vertical shaft of water and into an entire underground ocean, stretching further in every direction than your eyes can make out. You briefly look down and the word "thalassophobia" immediately rises up to smack you in the face. Light is swiftly blotted out in every direction away from the shaft, and you're engulfed by a dark stillness. If there is ground somewhere below you, you can't see it. Let yourself drift downwards, and you'll be swallowed up completely by that gloom, falling endlessly into this massive world of no light, no air, only water. The only way downward into the Abyss is to dive into it, taking up the name of "diver" perhaps far more literally than any before you.

There's nothing like an entire ocean to put a premature end to an adventure. You'll //need// to keep whatever you're using to breathe underwater with you and active at all times or you will drown and die.

If you have the Seafolk Curse, your hydrodynamic body and fins serve to speed your swimming up significantly, decreasing all travel time costs on this layer by 5 days. It's also quite dark and difficult to navigate, so a source of light like a flashlight would help by reducing travel times by 5 days - though it should go without saying that fire-based light won't work. Thankfully, pretty much everything in Outset Town's shop besides the torches and balloons is waterproof, and works just fine underwater. No need to worry about water ruining your food or smartphone.

In case you're wondering, the Miasma somehow alleviates the pressure of the water above your, thankfully preventing you from being crushed or subject to oxygen toxicity if you travel too deep.

Be prepared to eat a lot of meals and spend many nights (as if that word still means anything) sleeping underwater. It'll probably be disorienting at first. 

Hopefully you'll be able to get used to it.


<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue your journey through the ninth layer</button>
<<nobr>><<if $hiredCompanions.some(e => e.id === setup.companionIds.cherry)>>
<<if $visitL9 === 0>>
	<br><button class="dark-btn obsidian" data-passage="Layer9 Cherry">Use Cherry's chaotic luck</button><</if>>
<</if>><</nobr>>


:: Layer9 Hub [layer9 nobr]
<<set $currentLayer = 9>>
<<if !isPlaying("layer9")>>
	<<masteraudio stop>>
	<<audio "layer9" volume 0.2 play loop>>
<</if>>
<<CarryAdjust>><<checkTime>>
<<if $visitL9 === 0>>
	<<set $layerTemp = 8>>
	<<set $visitL9 = 1>>
<<elseif $secondVisitL9 === 0>>
	<<set $secondVisitL9 = 1>>
	<<set $layerTemp = 18>>
<<else>>
	<<set $layerTemp = random(0,20)>>
<</if>>

<<if $time == $CatastropheUsed>>
	As you drift in the underwater gloom, the reality of your situation sets in. Your equipment, once your shield against the dangers of the Abyss, is gone, lost in the Catastrophe. More painfully, your companions, those who had journeyed with you, shared your struggles, and fought by your side, are no more. Their absence is a heavy weight, a void that the Phoenix Obol's power cannot fill.

	You are alone now, stripped of your tools and allies, in the heart of an unforgiving sea.

	It seems that the fish are gone for now, but perhaps you'll be able to find some eventually.

	At first, the Elder seems to have completely disappeared, with nothing near you. But as time passes, you spot the tentacles at the edge of your vision once again. However, they never seem to approach you, as if the Elder has become wary of you after the Catastrophe. Even though it lives on, it seems that the Elder will no longer bother you down here.
<<else>>
	<<if $layerTemp === 1>>
		The muffled silence of the ocean is briefly interrupted by the distant and eerie sound of water moving in vast volumes. Before you can comprehend its source, a massive unseen undercurrent tugs at you, spiraling you in a direction you hadn't intended to go. In the vast, unending expanse of the deep, it feels as if the Abyss itself is toying with you, like a cat with a mouse. It takes a few heart-pounding moments of effort to escape its grip and regain control. Shaken, you proceed with renewed caution.<br><br>
	<<elseif $layerTemp === 2>>
		The water suddenly becomes filled with a soft hue. All around you, tiny plankton-like creatures begin to glow. Their tiny bodies illuminate your path, and for a brief moment, the crushing darkness of the Abyss feels less intimidating. The bloom lasts but a few moments before the creatures scatter, leaving you in the darkness once more.<br><br>
	<<elseif $layerTemp === 3 && $hiredCompanions.some(e => e.name === "Saeko")>>
		Amidst the oppressive darkness, Saeko adjusts her glasses, pointing towards the faintly shimmering curtain ahead.<br><br>
		
		<<say $companionSaeko>>That appears to be a thermocline. It's a boundary where water of different temperatures meet. Causes that visual distortion.<</say>><br>
		
		Her voice is steady, filled with the reserved intrigue of a scientist making an observation, but the weight of the Abyss's bleakness mutes any overt enthusiasm. As you navigate through the curtain, the sudden change in temperature is unnerving. Saeko remains focused, jotting down brief notes on a waterproof pad, her demeanor a mix of curiosity and caution as you continue your journey.<br><br>
	<<elseif $layerTemp === 4>>
		In these expansive depths, you feel an overwhelming sense of smallness. Everywhere you turn, there's just the vastness of water, pressing upon your psyche. The sensation of weightlessness combined with the eerie stillness makes you keenly aware of your isolation. The immediate vicinity feels like a shroud, wrapping around you, with only the muffled sound of your own heartbeat as a constant companion.<br><br>
	<<elseif $layerTemp === 6 && $mc.hasCurse("Hijinks Ensue")>>
		<<include "Hijinks Ensue Scenes">>
	<<elseif $layerTemp >= 18 - (1+$hiredCompanions.length) && $layerTemp < 19 && ($hiredCompanions.length > 0  || $ownedRelics.some(e => e.name === "Creepy Doll") )>>
		<<include "Companion Layer Interaction">>
	<<elseif $layerTemp >= 19>>
		<<include "Curse Descriptions">><br><br>
	<<else>>
		As you plunge through the depths of the ninth layer, a vast, boundless underground ocean unfolds around you. Its magnitude is both mesmerizing and terrifying, reminding you of the insignificance of your existence in the face of the world around you. The impenetrable darkness that engulfs the expanse is disorienting, with the distant shaft of light above fading rapidly as you dive deeper. The chilling silence is punctuated only by the rhythmic beats of your own heart, the muffled sound of water pressing against your ears, and the slightest hint of something lurking just out of view.<br><br>
	<</if>>
<</if>>

<<if  $time - $CatastropheUsed <= 2>>
	<<set $forageWater = 0>>
<</if>>
<<if  $time - $CatastropheUsed <= 5>>
	<<set $forageFood = 0>>
<</if>>

What do you want to do while you're here?<br>
<br>
<div class="options-container">
 <div>
   <div class="category-header">Organization</div>
   <div class="options-grid">
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/useitems.png']]</span>
       <button class="dark-btn obsidian text-center" data-passage="Use Items and Relics">
         Items and Relics
       </button>
     </div>
     <<if $hiredCompanions.length > 0>>
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/partytalk.png']]</span>
       <button class="dark-btn obsidian text-center" data-passage="Party overview">
         Your Party <<CheckParty>>
       </button>
     </div>
     <</if>>
   </div>
 </div>
 <div>
   <div class="category-header">Layer Preparations</div>
   <div class="options-grid">
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/threats.png']]</span>
       <button class="dark-btn obsidian text-center" data-passage="Layer9 Threats">
         Threats
       </button>
     </div>
     <<if  $time - $CatastropheUsed > 2>>
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/foraging.png']]</span>
       <button class="dark-btn obsidian text-center" data-passage="Layer9 Forage">
         Foraging
       </button>
     </div>
     <<else>>
     @@.alert1; In the immediate aftermath of the destruction you caused with the Catastrophe, there is nothing left to forage. Maybe in a few days you'll be able to find something...@@
     <</if>>
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/layer9habitation.png']]</span>
       <button class="dark-btn obsidian text-center" data-passage="Layer9 Habitation">
         Habitation
       </button>
     </div>
   </div>
 </div>
 <div>
   <div class="category-header">Curses and Relics</div>
   <div class="options-grid">
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/curses.png']]</span>
       <button class="dark-btn obsidian option-button text-center" data-passage="Layer9 Curses">
         Curses
       </button>
     </div>
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/relicsearch.png']]</span>
       <button class="dark-btn obsidian option-button text-center" data-passage="Layer9 Relics">
         Relics
       </button>
     </div>
   </div>
 </div>
 <div>
   <div class="category-header">Places</div>
   <div class="options-grid">
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/wonder.png']]</span>
       <button class="dark-btn obsidian text-center" data-passage="Layer9 Wonders">
         Wonders
       </button>
     </div>
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/camping.png']]</span>
       <button class="dark-btn obsidian text-center" data-passage="Layer9 Camp">
         Camp
       </button>
     </div>
   </div>
 </div>
 <div>
   <div class="category-header">Travel</div>
   <div class="options-grid">
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/ascent.png']]</span>
       <button class="dark-btn obsidian text-center" data-passage="Layer9 Ascend 1">
         Ascend
       </button>
     </div>
   </div>
   <div class="options-grid">
     <<if $raison != true>>
     <div class="menu-item">
       <span class="icon">[img[setup.ImagePath+'Icons/descent.png']]</span>
       <button class="dark-btn obsidian text-center" data-passage="Layer9 Exit1">
         Descend
       </button>
     </div>
     <<else>>
     There is no point reaching the bottom of the ocean again. There is nothing left for you there.
     <</if>>
   </div>
 </div>
</div>

:: Layer9 Forage [cards layer9 nobr]

<h1>Foraging</h1>

<p>If you decide to start foraging for food or water, it means that you will not consume your stored food rations or water supply while consuming time on tasks in this layer, but you will not obtain more supplies by starting to forage here.</p>

<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring the rest of the layer</button></p>
<<ForagingGrid setup.crevasseCarp setup.freshwaterPockets>>

<<if $items[2].count > 0>>
<p><button class="dark-btn obsidian" data-passage="Layer9 Flasks">Fill your empty flasks with water from freshwater pockets</button></p>
<</if>>
<<if  ($time - $CatastropheUsed) <= 5>>
	<p>@@.alert1; Fish do not seem to have returned yet in the aftermath of the destruction@@</p>
<<else>>
	<p><button class="dark-btn obsidian" data-passage="Layer9 Forage" data-setter="$corruption -= 2;$foodL9 += 1">Consume food from Crevasse Carp once</button></p>
<</if>>
<p><button class="dark-btn obsidian" data-passage="Layer9 Forage" data-setter="$corruption -= 1;$waterL9 += 1">Consume water from freshwater pockets once</button></p>

<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring the rest of the layer</button></p>


:: Layer9 Ascend 1 [layer9]
<<nobr>>
<<ascensionCosts>>
As this layer is entirely underwater, ascending is actually relatively fast here. Returning to the eighth layer will cost
<<if $currentModifiedAscensionCost !== $currentAscensionCost>>
    <s>$currentAscensionCost</s> <<print $currentCostStyle + $currentModifiedAscensionCost + ($currentCostStyle ? "@@" : "")>>
<<else>>
    $currentAscensionCost
<</if>>
 corruption points and take
<<if $currentModifiedTimeCost !== $currentTimeCost>>
    <s>$currentTimeCost</s> <<print $currentTimeStyle + $currentModifiedTimeCost + ($currentTimeStyle ? "@@" : "")>>
<<else>>
    $currentTimeCost
<</if>>
 <<print $currentModifiedTimeCost === 1 ? "day" : "days">> worth of swimming.
<<if $ascendedLayers.includes($currentLayer)>>
    <br><br>You've ascended from this layer before, so the base corruption cost is reduced from <<print _firstTimeCosts[$currentLayer]>> to <<print _subsequentCosts[$currentLayer]>> due to your minor acclimation to the miasma here.
<</if>><br><br>

If you wanted to ascend all the way to the surface, it would cost 
<<if $totalModifiedAscensionCost !== $totalAscensionCost>>
    <s>$totalAscensionCost</s> <<print $totalCostStyle + $totalModifiedAscensionCost + ($totalCostStyle ? "@@" : "")>>
<<else>>
    $totalAscensionCost
<</if>>
 corruption points.
<</nobr>>

<<if $DaedalusEquip>>\
	Your wings will be of little use in this aquatic environment. They won't hinder you significantly either.
<</if>>\
<button class="dark-btn obsidian" data-passage="Layer9 Ascend2">Continue your ascent</button>

<button class="dark-btn obsidian" data-passage="Layer9 Hub">Turn back and continue your business on the ninth layer</button>


:: Layer9 Ascend2 [layer9]
<<nobr>>
<<if !setup.passingTime()>>
	<<set _multiplier = 1>>
	<<StartTraveling 20 0 _multiplier>>
<</if>>
<<PassTimeWithEvents>>
<</nobr>>\
<<if !setup.passingTime()>>
	<<nobr>>
		<<if !$voidDiamondActive>>
			<<set $corruption -= $currentModifiedAscensionCost>>
		<</if>>
		<<if !$ascendedLayers.includes($currentLayer)>>
    		<<set $ascendedLayers.push($currentLayer)>>
		<</if>>
	<</nobr>>\
	As you ascend through the waters of the ninth layer, the overwhelming vastness of this underground ocean grips your senses. Around you, darkness prevails, a cloak of obscurity that makes the shaft of water from which you emerged seem like a distant memory. Your eyes strain to penetrate the gloom, but it's a futile effort; light fades into nothingness, leaving you suspended in a realm where the concepts of up and down blur. The notion of an endless fall into this aquatic void sends a shiver down your spine.

	It's an eerie comfort, knowing that, while the depths threaten to swallow you whole, the miasma shields you from the ocean's more crushing aspects. 

	Eventually, you recognize the faint glimmer of light from when you first descended into the water and follow it upwards into the alien space of the eighth layer.
	<<include "Curse Descriptions">>
	<button class="dark-btn obsidian" data-passage="Layer8 Hub">Return to the eighth layer</button>
<</if>>

:: Layer9 Exit1 [layer9]
Are you sure? Completing your descent through the dark sea will take <<descentTime>> days, if you wish to continue deeper still.
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Turn back and continue your business on the ninth layer</button>
<<TravelToPassage 'Continue your descent in order to reach the bottom' 'Layer9 Exit2' 80>>


:: Layer9 Exit2 [layer9]
<<PassTimeWithEvents>>\
<<if !setup.passingTime()>>
	...how much water must it have been? Is it even possible for a cave to go that deep? Surely, you would have hit the mantle or something by now? Do space and time have any meaning at all, at this point?
	
	<<include "Curse Descriptions">>

	<button class="dark-btn obsidian" data-passage="Layer10 1" data-setter="$currentLayer = 10">Enter a dimly twinkling barrier</button>
<</if>>


:: Layer9 Wonders [layer9 cards nobr]
<h1>Wonders</h1>

<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button></p>

<<WonderGrid setup.bloodstainedSanctuary>>

<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button></p>

:: Bloodstained Sanctuary Site [layer9 nobr]
<<PassTimeWithEvents>>
<<if !setup.passingTime()>>
[img[setup.ImagePath+'Wonders/bloodstainedsanctuary.png']]
<br>
As you drift through the vast emptiness of the ninth layer, a faint, mesmerizing glow beckons you from a distance. Drawn to it, you soon find yourself amidst the spectral remains of an ancient sanctuary. Your heart races as the Bloodstained Sanctuary reveals itself in all its haunting splendor.
<br><br>
The majestic pillars loom above, their surfaces worn and yet still echoing tales of bygone eras. The central altar, bathed in a purplish hue, beckons you closer, its glow ensnaring your senses.
<br><br>
The weight of history is palpable, making the water around you feel denser, colder. As you near the altar, you notice the meticulously carved channels that spread outwards, their designs seemingly alive, shifting subtly under your gaze.
<br><br>
A peculiar mixture of awe and dread fills you. The allure of the significant power promised by the sanctuary clashes with the grim reality of its price. The stillness of the Abyss around you amplifies your internal turmoil. Floating before the altar, you ponder the profound choice ahead. To harness the sanctuary's power, a life must be taken — a decision that cannot be made lightly.
<br><br>
The very water seems to hold its breath, awaiting your choice.
<br><br>
<<if $bloodstainedSanctuaryUsed>>
	The place seems devoid of any remaining energy, as the once glowing altar now lays dormant and empty.<br><br>
<<else>>
	<button class="dark-btn obsidian" data-passage="Bloodstained Sanctuary Site" data-setter="$corruption += 200, $bloodstainedSanctuaryUsed = true, $gameOver = true">Sacrifice yourself</button><br>

	<<for _i, _companion range $hiredCompanions>>
		<<set _flag = false>>
		<<set _tempName = _companion.name>>
		<<set _companionId = _companion.id>>
		<<switch _companionId>>
			<<case setup.companionIds.golem>>
				You can't sacrifice your Golem here.<br>
			<<default>>
				<<if _companionId === setup.companionIds.bandit >><<set _tempName = "Bandit">><</if>>
				<<if _companionId === setup.companionIds.twin >><<set _tempName = "Twin">><</if>>
				<<capture _companion _i _tempName>>
					<<set _choiceText = "Sacrifice " + _tempName>>
					<<link _choiceText "Sacrifice Apply">>
						<<set $temp = _i>>
					<</link>><br>
				<</capture>>
		<</switch>>

	<</for>>
<</if>>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring the rest of the layer</button>
<</if>>

:: Sacrifice Apply [layer9 nobr] 
<<set _tempSuccess = false>>
<<if $hiredCompanions[$temp].id === setup.companionIds.bandit && !$BanditConvo0>>
    You guide the Bandit through the shadowy depths to the eerie altar at the heart of the underwater sanctuary.<br><br>

    <<say $companionBandit>>Mmmph...!<</say>><br>
    Her expression, a mix of resignation and fear, is unmistakable even through the veil of water. Silent tears merge indistinguishably with the surrounding sea.<br><br>

    <<say $mc>>I regret this, truly. But in this cruel world, everyone plays their role, and this... this is yours.<</say>><br>
    With a swift, resolute motion, you use the weapon concealed in your grasp. She initially resists, her movements creating swirls of bubbles, but soon a crimson cloud envelops her, and her struggles fade to stillness.<br><br>
<<elseif $hiredCompanions[$temp].id === setup.companionIds.cherry>>
    You beckon Cherry to the ancient, bloodstained altar. Wordlessly, she approaches, kneeling gracefully and closing her eyes in quiet acceptance.<br><br>

    <<say $companionCherry>>Spare me the drama. We both understand why we're here. At least let my death be of more value than my life.<</say>><br>
    Taken aback, you pause momentarily, gripping your hidden weapon tighter.<br><br>

    <<say $mc>>Thank you... for understanding. I wish there was another way.<</say>><br>
    <<say $companionCherry>>Just do it!<</say>><br>
    Startled by her outburst, you hesitate, then exhale deeply, bracing yourself. In one fluid motion, you act. Cherry's body gently floats, life extinguished, her blood slowly diffusing into the murky water.<br><br>
    <<set _tempSuccess = true>>
<<elseif $hiredCompanions[$temp].id === setup.companionIds.twin>>
    You call upon $hiredCompanions[$temp].name to join you at the altar. A cunning smile plays upon <<if $hiredCompanions[$temp].sex=="male">>his<<else>>her<</if>> lips.<br><br>
    <<say $companionTwin>>Alright, lead the way.<</say>><br>
    You sense <<if $hiredCompanions[$temp].sex=="male">>he<<else>>she<</if>> might be aware of your intentions. A plan forms in your mind to ambush <<if $hiredCompanions[$temp].sex=="male">>him<<else>>her<</if>> in the obscurity of the water.<br><br>
    <<if $TwinVar1>>
        Despite your initial plan, you shadow $hiredCompanions[$temp].name towards the altar, eventually managing to lose <<if $hiredCompanions[$temp].sex=="male">>him<<else>>her<</if>>.<br><br>
    <<else>>
        You trail $hiredCompanions[$temp].name, stealthily avoiding detection as you near the altar. <<if $hiredCompanions[$temp].sex=="male">>He<<else>>she<</if>> seems to anticipate your movements, constantly scanning for your presence. Seizing the opportunity, you surge from below, swiftly cutting off <<if $hiredCompanions[$temp].sex=="male">>his<<else>>her<</if>> air.<br><br>
        <<say $companionTwin>>What are... you... doing...!<</say>><br>
        The struggle is fierce but brief. As <<if $hiredCompanions[$temp].sex=="male">>he<<else>>she<</if>> weakens, you deliver a decisive blow. A red haze emanates from the wound, engulfing <<if $hiredCompanions[$temp].sex=="male">>him<<else>>her<</if>>. Your twin's body hangs motionless in the water. To ensure the sacrifice, you drag the body to the altar's surface.<br><br>
        <<set _tempSuccess = true>>
    <</if>>
<<else>>
    You invite $hiredCompanions[$temp].name to explore the Bloodstained Sanctuary with you.<br><br>
    Upon arrival, $hiredCompanions[$temp].name hesitates at the edge of the altar.<br><br>

    <<say $hiredCompanions[$temp]>>What's our purpose here?<</say>><br>
    You ponder $hiredCompanions[$temp].name's question, unsure if it's genuine curiosity or suspicion.<br><br>
    <<say $mc>>Trust is key. Do you trust me?<</say>><br>
    <<if $hiredCompanions[$temp].affec>0>>
        <<set _tempRand = random(0,$hiredCompanions[$temp].affec)>>
    <<else>>
        <<set _tempRand=0>>
    <</if>>
    <<if _tempRand < 5>>
        <<say $hiredCompanions[$temp]>>Honestly? No. This place reeks of death and deception. Why should I step onto that altar?<</say>><br>
        <<say $mc>>Just go to the middle, no more questions.<</say>><br>
        <<say $hiredCompanions[$temp]>>I refuse! I want to leave now!<</say>><br>
        <<say $mc>>I didn't want to force this, but you leave me no choice.<</say>><br>
        You spring towards your companion, intent on overpowering <<if $hiredCompanions[$temp].sex=="male">>him<<else>>her<</if>>.<br><br>
        <<if $mc.HandicapThreat + $mc.fit + random(-1,1)> $hiredCompanions[$temp].HandicapThreat + $hiredCompanions[$temp].fit + random(-1,1)>>
            The scuffle is brief; you find an opening and strike with your hidden weapon. <<if $hiredCompanions[$temp].sex=="male">>He<<else>>She<</if>> winces in pain, allowing you another blow. Soon, your companion floats lifelessly, surrounded by a reddening haze.<br><br>
            <<set _tempSuccess = true>>
        <<else>>
            Your attempt to overpower fails; you're left battered as $hiredCompanions[$temp].name escapes your grasp. Your chance for the sacrifice slips away.<br><br>
            <<set $hiredCompanions[$temp].affec-=100>>
        <</if>>
    <<else>>
        <<say $hiredCompanions[$temp]>>Yes, but this place... it's unsettling. Let's finish quickly.<</say>><br>
        <<say $mc>>Just a moment and a prayer. Close your eyes.<</say>><br>
        With eyes barely open, you watch as $hiredCompanions[$temp].name complies. Seizing the moment, you attack.<br><br>
        <<say $hiredCompanions[$temp]>>Why... I trusted... you...!<</say>><br>
        As your companion's life ebbs away, the water around you turns a dark crimson.<br><br>
        <<set _tempSuccess = true>>
    <</if>>

<</if>>

<<if _tempSuccess>>
		For a brief moment, there's an eerie stillness as you float amidst the weightless tranquility, your gaze locked on the lifeless form before you. Abruptly, the crystals encircling the altar burst into a shimmering glow, casting shades of light across the watery depths. In the altar's heart, a spectral purple flame erupts, its light piercing the gloom. Instinctively, you shield your eyes from its brilliance. As the light engulfs you, you sense the miasma draining from your being, leaving a sensation of purity and lightness.<br><br>

		Upon reopening your eyes, the scene has transformed; the corpse has vanished without a trace, the crystals' glow has faded, and the mysterious flame has been extinguished. A strange emptiness pervades the sanctuary, as if its ancient power has been irreversibly spent, at least for you.<br><br>	<<if $hiredCompanions[$temp].id === setup.companionIds.bandit && !$BanditConvo0>>
		<<set _affectionPenalty = 25>>
	<<else>>
		<<set _affectionPenalty = 50>>
	<</if>>
	<<include "Bloodstained Sanctuary Reactions">>
	<<set $LostCompanions.push($hiredCompanions[$temp])>>
	<<set $hiredCompanions.deleteAt($temp)>>
	<<set $corruption += 200>>
	<<set $bloodstainedSanctuaryUsed = true>>
	<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>

<<elseif !_tempSuccess && $hiredCompanions[$temp].id !== setup.companionIds.twin>>
	<<set _affectionPenalty = 30>>
	<<include "Bloodstained Sanctuary Reactions">>
	<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>

<<else>>
	Suddenly, your twin strikes with unexpected ferocity. <<if $companionTwin.sex=="male">>He<<else>>She<</if>> ensnares you from behind, an iron grip tightening around your throat. Desperately, you flail and struggle, but the ambush has left you at a grave disadvantage.<br><br>

	Each gasp for air becomes more difficult, your strength failing rapidly in their relentless grasp.<br><br>

	Darkness encroaches on the edges of your vision, your limbs growing heavy and unresponsive. A searing pain lances through your neck, a harbinger of impending doom.<br><br>

	And then, all fades to black, the murky depths swallowing your consciousness whole.
	<<set $gameOver=1>>
<</if>>

:: Bloodstained Sanctuary Reactions [layer9 nobr]
<<if _affectionPenalty > 0>>
	<<if $hiredCompanions.some(e => e.id === setup.companionIds.maru) && $hiredCompanions[$temp].id !== setup.companionIds.maru>>
		<<set $companionMaru.affec -= _affectionPenalty>>
		<<say $companionMaru>>Why... Why would you do that? It's so sad...<</say>><br>
		Eyes wide and shimmering with the beginnings of tears, Maru clasps his hands to his chest, his fragile posture conveying his shock and hurt.<br><br>
	<</if>>
	<<if $hiredCompanions.some(e => e.id === setup.companionIds.lily) && $hiredCompanions[$temp].id !== setup.companionIds.lily>>
		<<set $companionLily.affec -= _affectionPenalty>>
		<<say $companionLily>>I can't believe this... how could you?<</say>><br>
		Lily's vibrant energy momentarily dampens. She clenches her fists, her eyes narrowing in disbelief and anger. Her once animated demeanor now appearing grounded and serious.<br><br>
	<</if>>
	<<if $hiredCompanions.some(e => e.id === setup.companionIds.khemia) && $hiredCompanions[$temp].id !== setup.companionIds.khemia>>
		<<set $companionKhemia.affec -= _affectionPenalty>>
		<<say $companionKhemia>>That's a new low, even for the Abyss, <<PerceivedGender2 $mc>>! You're nothing but a monster!<</say>><br>
		Khemia's usually relaxed posture is now tense and alert. His expressive eyes flash with anger and disappointment.<br><br>
	<</if>>
	<<if $hiredCompanions.some(e => e.id === setup.companionIds.cherry) && $hiredCompanions[$temp].id !== setup.companionIds.cherry>>
		<<set $companionCherry.affec -= _affectionPenalty>>
		<<say $companionCherry>>Yet another reason life feels so bleak.<</say>><br>
		Cherry's already downcast eyes seem to fall even further, and her posture appears even more slouched. She lets out a heavy sigh, the weight of the world seemingly resting on her shoulders.<br><br>
	<</if>>
	<<if $hiredCompanions.some(e => e.id === setup.companionIds.cloud) && $hiredCompanions[$temp].id !== setup.companionIds.cloud>>
		<<if $hiredCompanions[$temp].id === setup.companionIds.bandit && !$BanditConvo0>>
			<<set $companionCloud.affec -= Math.ceil(_affectionPenalty/2)>>
			<<say $companionCloud>>Sometimes, tough choices must be made.<</say>><br>
			Cloud's eyes remain unreadable, showing a hint of understanding, but his mouth is set in a firm, straight line.<br><br>
		<<else>>
			<<set $companionCloud.affec -= _affectionPenalty*2>>
			<<say $companionCloud>>What a betrayal of trust. I can't believe you'd stoop to that level.<</say>><br>
			Cloud's playful smirk fades completely. His eyes now burn with a cold, hard edge.
		<</if>>
	<</if>>
	<<if $hiredCompanions.some(e => e.id === setup.companionIds.saeko) && $hiredCompanions[$temp].id !== setup.companionIds.saeko>>
		<<set $companionSaeko.affec -= _affectionPenalty>>
		<<say $companionSaeko>> This... There is no rational justification for this. This is just sick.<</say>><br>
		Saeko's typically composed demeanor breaks momentarily, her face displaying a rare show of raw emotion: pure shock and disgust.
	<</if>>
	<<if $hiredCompanions.some(e => e.id === setup.companionIds.twin) && $hiredCompanions[$temp].id !== setup.companionIds.twin>>
		<<set $companionTwin.affec -= Math.ceil(_affectionPenalty/2)>>
		<<say $companionTwin>>I admit, I've had dark thoughts, but unlike you, I never acted on them.<</say>><br>
	<</if>>
	<<if $hiredCompanions.some(e => e.id === setup.companionIds.bandit) && !$BanditConvo0 && $hiredCompanions[$temp].id !== setup.companionIds.bandit>>
		<<set $companionBandit.affec -= Math.ceil(_affectionPenalty/2)>>
		<<say $companionBandit>>Tch... Typical.<</say>><br>
	<<elseif $hiredCompanions.some(e => e.id === setup.companionIds.bandit) && !$BanditConvo0 && $hiredCompanions[$temp].id !== setup.companionIds.bandit>>
		<<set $companionBandit.affec -= Math.ceil(_affectionPenalty/2)>>
		<<say $companionBandit>>I've seen a lot in my time, but this... It's among the worst.<</say>><br>	
	<</if>>
	<<if $hiredCompanions.some(e => e.id === setup.companionIds.golem)>>
		<<say $companionGolem>> ... <</say>><br>
	<</if>>
<</if>>


:: Layer9 Flasks [layer9]
<<nobr>>
<<for $i = 0; $i < 999; $i++>>
	<<if $items[2].count > 0>>
		<<set $items[3].count += 1>>
		<<set $items[2].count -= 1>>
		<<set $flaskMatrix[7]+=1>>
	<<else>>
		<<break>>
	<</if>>

<</for>>
<</nobr>>

:: Layer9 Relics [layer9 cards nobr]
<p><<CarryAdjust>><<checkTime>></p>

<h1>Relics</h1>

<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button></p>
<<RelicGrid `setup.relicsOnLayer[9]`>>
<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button></p>

:: Pick up the Radial Circulation [layer9]
<<CollectRelic $relic97>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic97.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

This may be useful against certain aquatic or aqueous enemies, if you can use it properly.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Catastrophe [layer9]
<<CollectRelic $relic98>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic98.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Rightful King [layer9]
<<CollectRelic $relic99>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic99.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Arbiter of Dawn [layer9]
<<CollectRelic $relic100>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic100.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Death, Bound [layer9]
<<CollectRelic $relic101>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic101.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Lifespanner [layer9]
<<CollectRelic $relic102>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic102.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Aquarius Ex Nihilo [layer9]
<<CollectRelic $relic103>>\
<<if !setup.passingTime()>>

The waters of this layer are often dark, but sometimes there's a bit of light trickling through the currents from a source you can't quite place. The visibility is limited, often restricted to mere outlines of distant objects, illuminated faintly against the gloom. At times, the waters turn pitch black, obscuring all but the immediate surroundings.

Even though the miasma does keep the water from becoming threateningly dense, it's not just water in these depths; there's an array of debris - rocks, both minuscule and colossal, float suspended. The pressure in denser if you get close to them. You're uncertain if these rocks generate the gravitational anomalies or if they've simply been ensnared by hidden gravity wells scattered throughout this layer. As you maneuver past them, you remain focused; the Relic you seek is elsewhere.

Amidst the aquatic expanse, you occasionally spot solitary fish, none particularly large.  On the rocks, sparse life clings on: a few sponges, perhaps a rare crustacean. The longer you explore, the more evident the barrenness of this ecosystem becomes. It's not dying, nor utterly lifeless, but eerily sparse, as if thoroughly scavenged. The thought sends a shiver down your spine, a reminder of the Elder, the vast entity ruling these depths. Among the debris, you glimpse remnants of a lost world: sunken ships, sculptures, fragments of buildings. Where did all of this come from?

Eventually, you find a place that may hold what you seek. Carved marble pillars emerge from the gloom as you swim towards the cluster of debris. Those pillars are toppled, lying in a jumbled heap in this submerged realm. As you approach, you note a peculiar change: the water's salinity decreases. You've encountered freshwater pockets before, but none as expansive as this. Undeterred, you dive towards the wreckage.

Buried under the chaotic heap of marble, you find it - an earthenware jug, deceptively simple yet elegantly crafted. As your hand nears its mouth, you notice a current flowing away from the mouth of the jug. It's not a torrent, but there is a steady stream of water flowing out of the jar and into the surrounding waters. Water flows steadily from the jug, untainted by the everpresent miasma of the Abyss. A strange thought occurs to you - this jug, endlessly pouring forth fresh water, could it be the source of all the water in this layer? The notion seems far-fetched, yet you can't dismiss it entirely. One thing becomes clear: your need for water bottles and flasks is now a thing of the past.

<b>You now have an infinite source of water. You no longer need to use water bottles or scavenge for water to survive.</b>

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Praeterzoa [layer9]
<<CollectRelic $relic104>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic104.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Lotus Eater [layer9]
<<CollectRelic $relic105>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic105.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Connect Call [layer9]
<<CollectRelic $relic106>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic106.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Contrarian Reflection [layer9]
<<CollectRelic $relic107>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic107.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>

:: Pick up the Starlit Conquest [layer9]
<<CollectRelic $relic108>>\
<<if !setup.passingTime()>>

You have successfully taken the $relic108.name Relic. Hopefully you can make good use of it and make it worth that corruption cost.

<button class="dark-btn obsidian" data-passage="Layer9 Relics">Continue searching for the Relics of layer 9</button>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button>
<</if>>


:: Layer9 Curses [layer9 cards nobr]

<h1>Curses</h1>

<<CarryAdjust>>

<<if $escBalDepl===0>>\
	<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button></p>
<<else>>\
	<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
<</if>>

<<CurseGrid `setup.cursesOnLayer[9]`>>

<<if $escBalDepl===0>>
	<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button></p>
<<else>>
	<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
<</if>>


:: Take on Libido Reinforcement G
<<set _curse = new LibidoReinforcementG()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

<<include "Libido Curse">>

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on Gender Reversal G
<<set _curse = new GenderReversalG()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

<<include "Gender Curse">>

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on Asset Robustness G
<<set _curse = new AssetRobustnessG()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

<<CarryAdjust>><<if $mc.penisCor>0 && $mc.breastsCor===0 >>
	The strength of this Curse takes you by surprise. our penis surges to full erection and continues to grow in size. The base, shaft, and tip swell at a disconcerting rate. Drops of precum ooze from the tip like thick honey, yet the growth doesn't cease. 

	Finally, the Curse releases its grip, but your jaw drops in disbelief as you realize you now possess a $mc.penisCor inch long member. The erection lingers for a while longer, and adapting to such a massive endowment without it hindering your movement will surely demand practice. You wince from a pinching sensation as you awkwardly hobble forward.

<<elseif $mc.penisCor<1 && $mc.breastsCor > 0>>
	The strength of this Curse takes you by surprise. Your nipples protrude like taut pencil erasers, and tiny streams of milk seep out as an intense pressure and stretching sensation engulfs your breasts. Your swelling bosom strains against your skin, momentarily as taut as overinflated balloons. The skin stretches to accommodate the expanding mass, and the dribbles of milk evolve into three powerful squirts before the ordeal ends.

	You gawk at your new $mc.breastsLabel cup breasts, and even your heavy breathing sends tremors through them. You wonder if bras exist that can support such a voluptuous transformation. Surely they must, but you feel off-balance as you teeter forward.

<<else>>
	You are overwhelmed by sensation as the Curse grips you, and you fall to the ground. Your back arches as your penis springs to full erection, and bulges ever larger. Your nipples jut out like pencil erasers and small dribbles of milk start to come out of them as an intense pressure and a stretching sensation fills your breasts. The base, the shaft, the tip of your penis are swelling to an alarming degree and drops of precum start oozing out of the tip. As your breasts swell to gargantuan proportions, the dribbles of milk turn into periodic gushes. Then, finally, the Curse releases its grip.
	
	You stare slack-jawed down at yourself as you realize you're now sporting a $mc.penisCor inch long dong, which is throbbing in sync with your pulse, between your two heaving $mc.breastsLabel cup breasts. This is a pretty dramatic change to your body. You just lie there on the ground for a minute coming to grips with what has just happened to you.
<</if>>
<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on Literalization
<<set _curse = new Literalization()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

You feel your Curses manifest into a dramatic change of your form, a literal representation of the things you resembled before this point.

<i>Gameplay effects of this Curse are not yet implemented.</i>

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on Consent Dissent
<<set _curse = new ConsentDissent()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

A strange tingle washes over your body, and you realize that you will never again have consensual sex. Never again feel the embrace of a mutual lover. Never again share a physically intimate moment with the one you love, who loves you back in turn. Hopefully you can make peace with this loss, eventually.

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on The Maxim
<<set _curse = new TheMaxim()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

You have successfully taken on the _curse.name Curse. Hopefully you are okay with accepting the permanent consequences.

Where would you like the parasite to invade your body?

<<radiobutton "_curse.location" "anus" checked>> Anus
<<radiobutton "_curse.location" "urethra" >> Urethra
<<if $mc.vagina > 0 >>
	<<radiobutton "_curse.location" "vagina" >> Vagina
<</if>>

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on Adverse Possession 
<<set _curse = new AdversePossession()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

You have successfully taken on the _curse.name Curse. Hopefully you are okay with accepting the permanent consequences.

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on Erased
<<set _curse = new Erased()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
<<nobr>>
<<for _companion range $hiredCompanions>>
	<<if _companion !== $companionGolem>>
			<<set _companion.affec -= 5>>
	<</if>>
<</for>>
<</nobr>>\
[img[setup.ImagePath + _curse.pic]]

You have successfully taken on the _curse.name Curse. Hopefully you are okay with accepting the permanent consequences.

<b>Your companions seem much more wary of you now. They remember your journey together, but the fact they don't know anything about you before you entered the Abyss is unnerving to them.</b>

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on Tickly Tentacles
<<set _curse = new TicklyTentacles()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

The cool underwater expanse around you seems to shudder and churn. The sensation is distant and eerie, but it's not the chill of the Abyss that sends shivers up your spine. A pulsating, sickening warmth crawls across your skin, spreading from your midriff. Your chest tightens, and your breath catches in your throat. You feel a sharp sting, like the bite of a predator, and you instinctively try to swat it away, but your hands find nothing. In a panic, you look down.

The sight that meets your eyes is so grotesque, so otherworldly, it takes your breath away. Emerging from your lower abdomen, just above your hip, a thick, writhing tentacle bulges from your skin. The inky, dark violet appendage throbs, thickening and elongating as it snakes out from your body. It's a dreadful sight, and for a moment, you can only watch in shocked silence. 

Your shock is broken when the tentacle flexes, revealing a hide of glistening, wet suckers. The feeling of them fluttering against your side is strange and intrusive, and you gasp, your heart hammering against your chest. There's an alien intelligence there in your new limb, a hint of a separate consciousness that resists your efforts to control it. It moves on its own, slithering in lazy spirals around your waist, exploratory and teasing.

A wicked dread takes hold of you, only heightened by the isolation of the Abyss. This tentacle, this thing, it's a part of you now, but also something separate. Something primal. An uncanny, embarrassing realization dawns on you - the tentacle's potential for lewd mischief. A thrill of fear courses through you, for yourself and anyone else who might find themselves in its grasp.

The thoughts make your stomach clench with unease and a strange, unfamiliar desire. Even now, the tentacle shivers against your thigh, as though sharing in your thoughts, eager to explore and to exploit. 

<<include "Inhumanity Warning">>

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on Eye-scream
<<set _curse = new Eyescream()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

A sensation akin to a pressure begins to build in the center of your chest. It’s gradual at first, nothing more than a slight discomfort, but it quickly escalates, an insistent throb that demands your attention. Still, you're far more preoccupied with the dark expanse of water around you, the chilling stillness of the abyss that seems intent on swallowing you whole. It's a daunting realization of your own insignificance, a sentiment that makes the burgeoning sensation in your chest seem trivial in comparison.

Yet, it’s an irritation that soon morphs into a throbbing ache. The cold water around you doesn't seem to have any mitigating effect on the searing heat that erupts within your chest. A moment of panic seizes you as the pain intensifies, a hot, stabbing sensation that echoes to your very core. Your instincts tell you to cry out, but you quickly remember your surroundings and restrain yourself, your heart pounding wildly against the intrusive force building in your chest.

All at once, the pressure breaks, and you experience an odd sensation as if a bubble had popped within you. Your hand moves instinctively to your chest and comes in contact with a throbbing mass, a foreign addition to your body. It takes you a moment to understand what has just occurred.

An eye. A large, bulbous eye has taken residence in the center of your chest, just above your sternum. Its gaze, if it could be called that, stares blankly ahead into the Abyss, but the sight it provides you is fragmented, distorted.

You can see, albeit in a hazy, distorted manner, the unending darkness of the ocean before you and the tiny pinprick of light from the water shaft above you. The sight is disconcerting, overwhelming, the third eye’s vision intermingling with your own, resulting in a strange new perspective on the world around you.

<<include "Inhumanity Warning">>

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on A Mouthful
<<set _curse = new AMouthful()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

Just when you think you've accustomed yourself to the harsh reality of the Abyss, a sudden, unsettling feeling crawls over your skin. The water around you seems to constrict, almost like a living entity, wrapping itself around you with a preternatural firmness.

A moment of panic ensues. You check your oxygen supply, hoping it isn't a malfunction. But it's not. It's something else. Something far more intimate and strange.

You feel a ripple, a distortion running through your body, originating from somewhere along your left forearm. Startled, you bring your arm in front of your masked face. Through the dim light filtering from above, you see an unsettling sight that makes your heart skip a beat. There, on your forearm, where smooth skin should be, gapes a mouth. A large, grinning mouth with lips contorting into a gruesome smile.

Bizarrely, it doesn't hurt, nor is it bleeding. Rather, it appears to be part of you, as if it had been there all along, just waiting for the right moment to reveal itself.

An attempt to close it results in no change; the grin remains, perpetually etched onto your skin. You watch, mortified, as the lips move, opening and closing in a disturbingly human manner. You realize you can control it, move it as if it were just another part of your body.

Fear gives way to curiosity, and you find yourself testing its functionality. Grabbing a ration from your pack, you hesitantly feed the mouth. The lips part, accepting the morsel, and you feel an odd sensation of fullness in your stomach. It’s as if the mouth bypasses the usual route and connects directly to your belly.

Somehow, despite the alien nature of your new mouth, it somehow seems almost natural, and you get the feeling you'll get used to it eventually, as bizarre as that thought is.

<<include "Inhumanity Warning">>

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Take on Below the Veil
<<set _curse = new BelowTheVeil()>>\
<<set $mc.addCurse(_curse)>><<set $corruption += _curse.corr>>\
[img[setup.ImagePath + _curse.pic]]

An unseen force seizes you, not in your body but somewhere deeper, in the very essence of your being. You reach out, flailing in the icy water, but there's nothing to grasp, only the vast emptiness of the deep. The pressure around you intensifies and it is as if you've touched the void itself, tasted the edges of an unfathomable <<print Creepify.encode("Truth")>>.

A cold shiver slithers its way up your spine, gnawing at your courage. Your body remains the same, yet, something within you has been irreversibly altered.

Your perception sharpens, each breath fills you with an otherworldly awareness. You feel an intrusive gaze sweeping over you, as though the Abyss itself acknowledges your presence. The realization hits you hard: your 'self', your identity, your personal mask, is now just a fragile façade.

Your thoughts are consumed with the change, so alien and yet intimate. Its echo beats like a second heart within you, a grim metronome to your existence. You can’t help but wonder how your newfound nature will shape your future. Adventure, exploration, camaraderie — all seem like distant memories from another life.

Your skin crawls with an invisible frost, a sensation born not from the surrounding water but from the Abyss's Curse. The implications dawn upon you; even if you could convince a companion to journey with you, the mere sight of you would quickly drive them to madness. Interaction, connection, all would be tainted by this curse. The thought of solitary existence stretches before you, as dark and endless as the ocean surrounding you.

Around you, the aquatic world carries on undisturbed. The light from the shaft above you, once a beacon of hope and a link to the world above, now only seems to accentuate your alienation. You're suspended in the vast, indomitable Abyss, no longer a 'diver', but a being of fear and madness, Cursed to wander the world alone.

<<include "Inhumanity Warning">>

<b>Warning: Your companions will not stick around for long, they value their sanity!</b>

<<if $currentLayer == 9>>\
	<button class="dark-btn obsidian" data-passage="Layer9 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<button class="dark-btn obsidian" data-passage="Layer9 Hub">Return to exploring layer 9</button>
	<<else>>
		<button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button>
	<</if>>
<<else>>\
	<button class="dark-btn obsidian" data-passage="Layer10 Curses">Accept more Curses from the ninth layer</button>
	<<if $escBalDepl===0>>\
		<p><button class="dark-btn obsidian" data-passage="Layer10 2" data-setter="$currentLayer = 10">Return to the Nadir</button></p>
	<<else>>\
		<p><button class="dark-btn obsidian" data-passage="Escape Balloon L9">Return to your balloon</button></p>
	<</if>>
<</if>>

:: Layer9 Curses Random [nobr]
<<set _tempCurses = setup.cursesOnLayer[9]>>
<<set _totalCurses = $mc.curses>>
<<for _i=0; _i< $hiredCompanions.length; _i++>>
	<<set _totalCurses = _totalCurses.concat($hiredCompanions[_i].curses)>>
<</for>>
<<include "Curse Randomizer">>

:: Layer9 Threats [layer9 cards nobr]
<h1>Threats</h1>

<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button></p>
<<if $ElderDestroyed>>
	The Elder seems to be wary of you now, leaving you ample space and not interfering in your journey. It seems that there are no longer any significant threats to you on this layer.<br><br>
<<else>>
	<<ThreatGrid setup.theElder>>
<</if>>
<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue exploring the ninth layer</button></p>

:: Layer9 Elder Encounter [layer9 nobr]

<<set $temp = "Nothing">>
<<set $temp_list = []>>
<<if $Elderbeaten >= 3 || $timeL9 >50>>
	<<set $ElderSerious = true>>
<</if>>
<<set $timeL9T1-=5>>

<<if $timeL9 === 0>>
	As you glide through the murky depths of the Abyss, the water around you is cold and oppressive, a vast expanse of unknowns. Your destination lies ahead, but an eerie sensation creeps along your spine. You are not alone.<br><br>

	In the inky darkness, a presence looms, immense and ancient. The Elder, an entity from the dawn of time, exists here in a form beyond comprehension. Its malevolence is palpable, yet it holds back, its curiosity piqued by your rare intrusion.<br><br>

	Suddenly, a gentle current brushes against you, and you freeze. From the unfathomable dark, a voice echoes, one that is not heard but felt, vibrating through your mind without a sound.<br><br>

	<span class="elder-entity">《Existence... singular... <span class="light">curious</span>... depths traverse. Why?》</span><br><br>

	The words, or perhaps concepts is more accurate, form clear thoughts in your mind. It's The Elder, its thoughts invading yours, a strange intelligence so alien it defies understanding. You sense no immediate hostility, but the sheer power behind each concept is overwhelming.<br><br>

	Around you, the darkness seems to pulse with unseen life. The Elder's presence is everywhere yet nowhere, its many tentacles hidden in the shadows, ready to strike or to explore.<br><br>

	<span class="elder-entity">《Awareness... fleeting... ephemeral. Your presence... <span class="light">ripples</span>.》</span><br><br>

	You feel the weight of its gaze, an invisible force examining you. The Elder, a creature from a time before time, watches and waits.<br><br>

	<button class="dark-btn obsidian" data-passage="$returnPassage">Continue on your journey</button>
<<elseif $timeL9 <=25 >>
	<<if $elderCounterFirst===0>>
		You have been traversing the ninth layer for what feels like an eternity, the darkness unyielding. As you pause to orient yourself, a sudden change in the water's flow draws your attention. The currents whisper around you, carrying a barely perceptible message.<br><br>

		<span class="elder-entity">《Sight... unseen. Watch... <span class="light">observe</span>. Tiny life... strange path.》</span><br><br>

		The Elder's presence is like a shadow at the edge of your perception, observing you with a curiosity that feels distant yet intense. You sense it probing, testing the waters of your existence, its vast intelligence brushing against the fringes of your mind.<br><br>
	<<elseif $elderCounterFirst===1>>
		Days later, the Abyss feels less empty. You're increasingly aware of movements in the darkness, massive yet impossibly subtle. The Elder's curiosity seems to grow, its invisible gaze more focused, more intense.<br><br>

		<span class="elder-entity">《Closer... study. Unfamiliar... intriguing. Small being... <span class="light">deep</span> waters.》</span><br><br>

		The words echo in your mind, a discordant symphony of thoughts and impressions. The Elder is drawing nearer, its interest in you evolving, becoming something more palpable. Shadows shift around you, suggesting the presence of vast tentacles exploring the waters you traverse.<br><br>
	<<elseif $elderCounterFirst===2>>
		In the heart of the Abyss, where the pressure of the deep weighs heavily, you feel a change. The water itself seems to vibrate with a strange energy. The Elder is no longer a distant observer; it's an active presence, its curiosity taking on a more aggressive edge.<br><br>

		<span class="elder-entity">《Intruder... probe. Depths... <span class="light">why</span>?》</span><br><br>

		The Elder's communication is more direct, more insistent. You sense a challenge in its tone, a questioning of your right to be in these ancient depths. The darkness around you seems to constrict, as if the very Abyss is responding to The Elder's growing agitation.<br><br>
	<<else>>
		The ninth layer has changed for you. It's no longer a place of exploration,, but a domain where you are constantly watched, analyzed. The Elder's presence is overwhelming, an oppressive force that seems to crowd the waters around you.<br><br>

		<span class="elder-entity">《Close... close. <span class="light">understanding</span> nears... intentions questioned.》</span><br><br>

		The Elder's thoughts now carry a hint of menace, a growing impatience with your continued presence in its realm. You feel it all around, a monstrous intelligence that could easily snuff out your existence. The water churns as if agitated by the movements of colossal limbs, a prelude to an impending confrontation that feels inevitable.<br><br>
	<</if>>
	<<set $elderCounterFirst += 1>>

		<button class="dark-btn obsidian" data-passage="$returnPassage">Continue on your journey</button>
<<elseif !$ElderSerious>>
	<<if $elderCounterSecond===0>>
		In the murky depths, you suddenly sense a shift in the water's pressure. Before you can react, a massive tentacle lashes out from the darkness, its speed almost blurring its existence. It strikes the water beside you, sending a powerful shockwave that knocks you off course.<br><br>

		<span class="elder-entity">《Test... strength. Resilience... <span class="light">observe</span>.》</span><br><br>

		The Elder's 'voice' resonates in your mind, a cold curiosity underlying its tone. The attack, while terrifying, seems more like a test than a true attempt to harm. The Elder is gauging you, probing your reactions to sudden violence.<br><br>
	<<elseif $elderCounterSecond===1>>
		You have barely recovered from the previous encounter when another tentacle, thicker and more menacing, emerges from the abyssal gloom. It wraps around your leg with a crushing force, dragging you downwards before releasing you abruptly.<br><br>

		<span class="elder-entity"><span class="light">《Fear</span>... sense. Strength... measure.》</span><br><br>

		The Elder's fascination seems to grow with your struggle. The grip of its tentacle was enough to seriously injure you, yet it held back, its intent more to intimidate and test than to kill. You're left with the unnerving realization that The Elder is playing a dangerous game with you.<br><br>
	<<elseif $elderCounterSecond===2>>
		As you swim cautiously through a narrow chasm, several tentacles, sharp as razors, slice through the water towards you. You dodge desperately, but one grazes your arm, leaving a deep gash. The water around you clouds with your blood.<br><br>

		<span class="elder-entity">《Pain... understand. Fragile... <span class="light">life</span> form.》</span><br><br>

		The Elder's exploration into your physical limits becomes more aggressive. Its tentacles are instruments of both curiosity and cruelty, each strike a calculated move to inflict pain without causing fatal damage. It's as if The Elder is dissecting your very existence through violence.<br><br>
	<<else>>
		In a terrifying escalation, you find yourself suddenly ensnared by multiple tentacles. They coil around your body, exerting an immense pressure that threatens to crush your bones. Just as you feel you might black out, they release, leaving you to float helplessly in the water.<br><br>

		<span class="elder-entity">《Resist... <span class="light">survive</span>. Limits... explore.》</span><br><br>

		The Elder's actions are now openly hostile, yet there's a sense that it's still holding back, its true lethal power kept in check. This brutal play, a mere game to The Elder, leaves you battered and on the brink of despair, wondering what horrors lie ahead in this deadly battle with an ancient, alien intelligence.<br><br>
	<</if>>
	<<set $elderCounterSecond += 1>>

	<button class="dark-btn obsidian" data-passage="Elder attempt" data-setter="$temp2 = "Hide"">Attempt to hide from the Elder</button><br>
	<button class="dark-btn obsidian" data-passage="Elder attempt" data-setter="$temp2 = "Flight"">Attempt to flee the Elder</button><br>
	<button class="dark-btn obsidian" data-passage="Elder attempt" data-setter="$temp2 = "Fight"">Attempt to fight the Elder</button><br><br>

	<<if settings.EncounterFiat == true>>
	<button class="dark-btn obsidian" data-passage="$returnPassage">Use a combination of Relics not mentioned above you believe would be able to evade the Elder</button><br><br>
	<</if>>
	
	<i>Warning: Most methods will <b>not</b> work against the Elder, as it is far more advanced and powerful than anything else you have encountered thus far in your journey.</i><br>
<<else>>
	<<if $elderCounterThird===0>>
		You sense a sudden, dramatic shift in the Abyss. The water around you churns violently as The Elder reveals its true, terrifying intent. A massive tentacle, thick as a tree trunk, surges towards you with lethal speed, intent on impaling you. You barely evade, feeling the rush of water as it passes inches from your body.<br><br>

		<span class="elder-entity">《Merge... begin. Your <span class="light">end</span>... our extension.》</span><br><br>

		The Elder's voice is no longer a curious whisper but a thunderous decree. It's clear that it's no longer testing you; it's seeking to end you, to absorb your essence into its own ancient being. The sheer power of its attack leaves no doubt about its lethal capabilities.<br><br>
	<<elseif $elderCounterThird===1>>
		You're struggling to catch your breath when The Elder creates a powerful underwater vortex, aiming to disorient and trap you within its swirling depths. The force is overwhelming, pulling you towards a gaping maw lined with razor-sharp protrusions, a glimpse into a horrific fusion.<br><br>

		<span class="elder-entity">《Consume... integrate. <span class="light">inevitable</span>... assimilation.》</span><br><br>

		The Elder's intent to assimilate you into its consciousness is terrifyingly clear. Each movement is designed to weaken and ultimately consume you, a process of terrifying finality. Your struggle feels increasingly desperate against its immense power.<br><br>
	<<elseif $elderCounterThird===2>>
		In a relentless assault, a barrage of tentacles, each armed with bone-crushing strength and deadly precision, attacks from all directions. You're caught in a relentless storm, each strike more ferocious and accurate than the last. A tentacle smashes into your side, breaking ribs and leaving you gasping in pain.<br><br>

		<span class="elder-entity">《End nears... resistance <span class="light">futile</span>. Join... become one.》</span><br><br>

		The Elder's voice booms in your mind, a cacophony of finality. It's not just trying to kill you; it's trying to obliterate your very individuality, to absorb you into its ancient, alien existence. The sheer ferocity of its attack is unlike anything you've faced.<br><br>
	<<else>>
		Battered and barely clinging to consciousness, you realize The Elder is preparing its final move. A colossal tentacle, surrounded by countless others, descends upon you. It's not just an appendage; it's a conduit, a bridge to The Elder's own essence.<br><br>

		<span class="elder-entity">《End... begin. Merge... <span class="light">complete</span>.》</span><br><br>

		The Elder's voice is a monolithic presence in your mind, an inescapable force. As the tentacle wraps around you, you feel a terrifying pull, a sensation of your being starting to unravel and blend with something infinitely vast and incomprehensible. It's a process of annihilation and rebirth, the final act of The Elder's long, merciless pursuit.<br><br>
	<</if>>
	<<set $elderCounterThird += 1>>

	<button class="dark-btn obsidian" data-passage="Elder attempt" data-setter="$temp2 = "Hide"">Attempt to hide from the Elder</button><br>
	<button class="dark-btn obsidian" data-passage="Elder attempt" data-setter="$temp2 = "Flight"">Attempt to flee the Elder</button><br>
	<button class="dark-btn obsidian" data-passage="Elder attempt" data-setter="$temp2 = "Fight"">Attempt to fight the Elder</button><br><br>

	<<if settings.EncounterFiat == true>>
	<button class="dark-btn obsidian" data-passage="$returnPassage">Use a combination of Relics not mentioned above you believe would be able to evade the Elder</button><br><br>
	<</if>>

	<i>Warning: Most methods will <b>not</b> work against the Elder, as it is far more advanced and powerful than anything else you have encountered thus far in your journey.</i><br>
<</if>>

:: Elder attempt [layer9 nobr]
<<if $temp2 == "Hide">>
	What Relics do you want to use in your attempt to hide from the Elder's senses so you can escape it's attacks?<br><br>
<<elseif $temp2 == "Flight">>
	What Relics do you want to use in your attempt to outmaneuver the Elder's tentacles so you can make a quick escape?<br><br>
<<elseif $temp2 == "Fight">>
	What Relics do you want to use in your attempt to fight against the Elder's tentacles so you can make manage to get away?<br><br>
<</if>>
<<if $ownedRelics.length==0>>
	<button class="dark-btn obsidian" data-passage="Elder attempt2" data-setter="$temp = "Nothing"">You don't have any Relics!</button>
<<else>>

	<<if $temp_list.length<2>>
		<<for _i, _relic range $ownedRelics>>
			<<capture _i>>
				<<if !$temp_list.some(r => r === _relic.name)>>
					&nbsp; [[_relic.name|Elder attempt][$temp_list.push($ownedRelics[_i].name)]]<br>
				<</if>>
			<</capture>>
		<</for>>
	<<else>>
		You can use up to 2 Relics at once. Most weaker Relics won't do anything, but a few can be used in a combination here. The Relics which can be used on their own are exceptionally powerful.<br><br>
		
		<b>You should not try the same combination of Relics multiple times, or the Elder will learn from the encounter and deal with them brutally!</b><br>
	<</if>>
	<br>
	You have selected:<br>
	<<for _j=0; _j<$temp_list.length;_j++>>
		<<if $temp_list[_j] == "Joyous Sunder" && $joyousSword>>
			<<set $temp_list[_j] = "Joyous Sunder Sword">>
		<</if>>
		<<if $temp_list[_j] == "Starlit Conquest Activated" && $mechaBoarded>>
			<<set $temp_list[_j] = "Activated Starlit Conquest">>
		<</if>>	
		<<print $temp_list[_j]>>
		<<if $temp_list[_j] == "Catastrophe">>
			<<print "@@.alert2; Using the Catastrophe here might cause mass devastation and will result in your own death!">>
		<</if>>			
		<br>
	<</for>>
	<<if $temp_list.length==0>>
		Nothing!<br>
	<</if>>
	<br>
	<button class="dark-btn obsidian" data-passage="Elder attempt" data-setter="$temp_list=[">Delete existing Relic selection</button>]<br>

	
	<<if $temp_list.length==1>>
		<<set $temp = $temp_list[0]>>
		<<set $temp_alt = $temp_list[0]>>	
	<<elseif $temp_list.length==2>>
		<<set $temp = $temp_list[0] + " & " +  $temp_list[1]>>
		<<set $temp_alt = $temp_list[1] + " & " +  $temp_list[0]>>
	<</if>>

	<<if $temp_list.some(r=> r==="Catastrophe")>>
		<br><button class="dark-btn obsidian" data-passage="Catastrophe Layer Destruction">Face the Elder with your selection of Relics</button>
	<<else>>
		<br><button class="dark-btn obsidian" data-passage="Elder attempt2">Face the Elder with your selection of Relics</button>
	<</if>>

<</if>>


:: Elder attempt2 [layer9 nobr]
<<set _hideCondition = ($temp2 == "Hide" && ($ElderHideList.some(e => e === $temp) || $ElderHideList.some(e => e === $temp_alt)))>>
<<set _flightCondition = ($temp2 == "Flight" && ($ElderFlightList.some(e => e === $temp) || $ElderFlightList.some(e => e === $temp_alt))) >>
<<set _fightCondition = ($temp2 == "Fight" && ($ElderFightList.some(e => e === $temp) || $ElderFightList.some(e => e === $temp_alt)))>>
<<if $temp2 == "Fight" && ($temp == "Joyous Sunder Sword" || $temp_alt == "Joyous Sunder Sword") && $hiredCompanions.some(e => e.id === setup.companionIds.khemia)>>
	<<if $companionKhemia.armCount > 1>>
		<<set _fightCondition = true>>
	<</if>>
<</if>>
<<if  _hideCondition == ($temp2 == "Hide" && ($ElderHideWinList.some(e => e === $temp) || $ElderHideWinList.some(e => e === $temp_alt))) || ($temp2 == "Flight" && ($ElderFlightWinList.some(e => e === $temp) || $ElderFlightWinList.some(e => e === $temp_alt))) || ($temp2 == "Fight" && ($ElderFightWinList.some(e => e === $temp) || $ElderFightWinList.some(e => e === $temp_alt)))>>
	<<set _success=false>>
	<<set _i=0>>
	<<for _relic range $ownedRelics>>
		<<set _randRelic = random(1,$temp_list.length)>>
		<<capture _relic>>
			<<if _relic.name == $temp_list[_randRelic]>>
				Without warning, one of its massive tentacles, previously hidden among its writhing brethren, lunges forward with blistering speed, striking with the force of a freight train. The impact leaves you reeling, struggling to comprehend the sudden onslaught.<br><br>

				As your vision clears amidst the chaos, a horrific sight unfolds. Another of The Elder's tentacles, grotesque and unyielding, has ensnared your $temp_list[_randRelic]. In a display of raw, merciless power, the tentacle constricts, the relic creaking under the immense pressure. With inexorable force, it's being crushed, its once formidable essence now faltering under the creature's might.<br><br>
				<<set _j=_i>>
			<</if>>
		<</capture>>
		<<set _i+=1>>
	<</for>>
	<<set $ownedRelics.deleteAt(_j)>>

<<elseif !$ElderSerious && _hideCondition || _flightCondition || _fightCondition >>
	<<set _success=true>>
	<<set $Elderbeaten+=1>>
	<<set _string = "$Elder" + $temp2 + "WinList">>
	<<print "<<set " + _string + ".push($temp)>>">>
<<else>>
	<<set _success=false>>
<</if>>

<<if _success && $temp2 == "Hide">>
	With the aid of your Relics, you become an enigma to The Elder, evading its perceptive gaze. Seizing this moment of invisibility, you slip away quietly, eluding the monstrous entity's wrath. Your heart races as you move stealthily, grateful for the narrow escape.<br>
	<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>

<<elseif _success && $temp2 == "Flight">>
	Agility is your ally as you nimbly dodge the relentless tentacles. You surge forward with remarkable speed, creating distance between you and the looming threat. The tentacles pursue but their efforts seem lackluster, and soon they vanish into the dark waters. Relief washes over you as safety beckons.<br>
	<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>

<<elseif _success && $temp2 == "Fight">>
	Steeled for battle, you ready yourself. Utilizing your $temp, you skillfully fend off one of the massive tentacles, but another swiftly takes its place. The battle rages, demanding every ounce of your strength and cunning. Finally, the assault ceases; the tentacles retreat. Exhausted yet victorious, you cherish your hard-fought survival.<br>
	<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>

<<else>>
	<<if $temp == "Nothing">> Fighting the Elder with just you bare equipment was ill-advised, but now that the plan unfolds it becomes painfully obvious. Powerful tentacles bat everything you throw at them aside and start coilling around you.<<else>>Your idea to use $temp may have sounded good in your head, but quickly the tentacles begin to coil around you.<</if>> With nowhere to run or hide, you are completely immobilized at the mercy of the Elder.<br><br>
	<<if !$mc.tentaclePreg && !$mc.hasCurse('Absolute Birth Control')>>
		<<set _rand = random(1,3)>>
	<<else>>
		<<set _rand = 1>>
	<</if>>
	<<if _rand < 3>>
		<<set _temp = []>>
		<<for _i=-1; _i<$hiredCompanions.length; _i++ >>
			<<if _i==-1 && $mc.armCount>0 && $mc.legCount>0>>
				<<set _temp.push($mc)>>
			<<elseif $hiredCompanions[_i].armCount>0 && $hiredCompanions[_i].legCount>0>>
				<<set _temp.push($hiredCompanions[_i])>>
			<</if>>
		<</for>>
		<<if _temp.length==0>>
			The Elder is thrashing you and crushing you with it's powerful tentacles.
			<<set $forcedL9Ending = true>>
			<button class="dark-btn obsidian" data-passage="Layer9 Habitation Ending">There is nothing you can do to resist</button>
		<<else>>
			<<set _rand = random(1, _temp.length) -1>>
			<<set _target = _temp[_rand]>>
			The elder grips onto <<if _target===$mc>>your<<else>>_target.name's<</if>> limbs with overwhelming strength. It begins a relentless pulling in all directions. <br><br>
			<<say _target>>AAAAH!<</say>><br>
			The muffled, chilling sounds of tearing flesh and snapping bones echo hauntingly through the water.<br><br>
			<<set _rand2 = random(1,2)>>
			<<if _rand2==1 || _target.legCount==0>>
				A severed arm, trailing blood, sinks slowly into the abyss. The elder's menacing tentacles, having completed their grim task, finally withdraw.<br><br>

				<<say _target>>Ahhh... My arm! My arm is gone!<</say>><br>
				<<if !$ownedRelics.some(r=> r.name==="Lifespanner") && $LS_used < 2>>
					<<set _target.events.push(new ElderArmRemoval())>>
				<</if>>
			<<elseif _rand2==2 || _target.armCount==0 >>
				A severed leg, oozing blood, descends into the darkness. The elder's sinister tentacles relent and recede into the depths.<br><br>

				<<say _target>>Ahhh... My leg! I've lost my leg!<</say>><br>
				<<if !$ownedRelics.some(r=> r.name==="Lifespanner") && $LS_used < 2>>
					<<set _target.events.push(new ElderLegRemoval())>>
				<</if>>
			<<else>>
				check errors
			<</if>>
			A steady stream of blood is flowwing from the gaping hole in <<if _target===$mc>>your<<else>>_target.name 's<</if>> body. Immediate action is needed to prevent death from bloodloss and infection!<br><br>

			<<if $ownedRelics.some(r=> r.name==="Lifespanner") && $LS_used < 3>>
			
			<<if $LS_used ==0 >>
				<<set $LS_used += 1>>\
				You swiftly grab the Lifespanner from your bag and apply it to the gaping wound. The wound emits a faint glow, and the surrounding cloud of red mist seems to implode. Moments later, fragments from the murky depths ascend, followed by the bulk of the dismembered limb. Everything reattaches in mere moments, almost as if the horrific event never occurred.<br><br>
			
				<<say _target>>It's... It's back!<</say>><br>

				<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>
			<<elseif $LS_used == 1>>
				<<set $LS_used += 1>>\
				You hurriedly use the Lifespanner again. As before, the wound glows and the red mist collapses inward. But this time, a lone tentacle reemerges from the depths, seizing and pulverizing the reformed limb repeatedly. <br><br>
			
				<<say _target>>It's... It's back!<</say>><br>

				<b>But something tells you, next time it won't be so easy to recover.</b>
				<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>

			<<else>>
				An unending cycle of the Elder ripping off limbs and the futile attempts at regeneration continues until you exhaust your daily uses of the Lifespanner. It seems that the Elder is not happy with you simply healing these injuries so easily. The risk of bleeding to death in the water remains high. <br><br> 
				<<if _target!=$companionCherry && $hiredCompanions.some(c=> c.name==="Cherry")>>

					Cherry springs into action, her instincts taking over. She quickly fashions a tourniquet, significantly slowing the flow of blood. From her own gear, she retrieves a tiny vial.

					<<say $companionCherry>>This was meant to last me the whole day. You owe me big time for this!<</say>><br>

					She uncorks the bottle and applies its contents to the wound at various points. The sharp scent of potent alcohol fills the air around you.

					<<say _target>>Ahh, it hurts so much!<</say>><br>

					<<say $companionCherry>>Hold still, okay? This next part is going to sting even worse.<</say>><br>

					She begins to stitch the wound meticulously with needle and thread. Afterwards, she tears a piece of fabric from her clothing, using it to reinforce the tourniquet and cover the wound. 

					<<say $companionCherry>>There you go. That should hold. But hey, if I'm ever in this state, just leave me be, alright?<</say>><br>
					
					<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>

				<<elseif $items[4].count > 0>>
					You quickly grab a medkit from your bag. First, you apply a tourniquet, then disinfect the wound, and finally stitch and bandage it. It's not life-threatening now, but it's still a grave concern.<br><br>

					<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>
				<<else>>
					<<if _target===$mc>>
						With no means to treat your wound, your blood continues to seep into the surrounding sea. The waters darken, blurring the line between the ocean's depths and your fading consciousness. This is undoubtedly the end...<br><br>
						<<set $forcedL9Ending = true>>
						<button class="dark-btn obsidian" data-passage=" Layer9 Habitation Ending">Succumb to the Elder</button>
					<<else>>
						As _target.name bleeds out, there's nothing you can do but watch. _target.name's consciousness slips away, and they begin to descend deeper into the Abyss.<br><br>

						<<say $mc>>_target.name! Please, wake up! Don't leave us!<</say>><br>
						<<for _i=0; _i<$hiredCompanions.length; _i++>>
							<<if $hiredCompanions[_i]===_target>>
								<<set _temp_compIndex=_i>>
							<</if>>
						<</for>>
						<<set $LostCompanions.push($hiredCompanions[_temp_compIndex])>>
						<<set $hiredCompanions.deleteAt(_temp_compIndex)>>
						<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9 with one less companion</button>

						<</if>>
					<</if>>
				<</if>>
			<<elseif _target!=$companionCherry && $hiredCompanions.some(c=> c.name==="Cherry")>>
				Cherry springs into action, her instincts taking over. She quickly fashions a tourniquet, significantly slowing the flow of blood. From her own gear, she retrieves a tiny vial.

				<<say $companionCherry>>This was meant to last me the whole day. You owe me big time for this!<</say>><br>

				She uncorks the bottle and applies its contents to the wound at various points. The sharp scent of potent alcohol fills the air around you.

				<<say _target>>Ahh, it's stinging so much!<</say>><br>

				<<say $companionCherry>>Hold still, okay? This next part is going to sting even worse.<</say>><br>

				She begins to stitch the wound meticulously with needle and thread. Afterwards, she tears a piece of fabric from her clothing, using it to reinforce the tourniquet and cover the wound. 

				<<say $companionCherry>>There you go. That should hold. But hey, if I'm ever in this state, just leave me be, alright?<</say>><br>
				
				<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>

			<<elseif $items[4].count > 0>>
				You quickly grab a medkit from your bag. First, you apply a tourniquet, then disinfect the wound, and finally stitch and bandage it. It's not life-threatening now, but it's still a grave concern.<br><br>

				<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>
			<<else>>
				<<if _target===$mc>>
					With no means to treat your wound, your blood continues to seep into the surrounding sea. The waters darken, blurring the line between the ocean's depths and your fading consciousness. This is undoubtedly the end...<br><br>
					<<set $forcedL9Ending = true>>
					<button class="dark-btn obsidian" data-passage=" Layer9 Habitation Ending">Succumb to the Elder</button>
				<<else>>
					As _target.name bleeds out, there's nothing you can do but watch. _target.name's consciousness slips away, and they begin to descend deeper into the Abyss.<br><br>

					<<say $mc>>_target.name! Please, wake up! Don't leave us!<</say>><br>
					<<for _i=0; _i<$hiredCompanions.length; _i++>>
						<<if $hiredCompanions[_i]===_target>>
							<<set _temp_compIndex=_i>>
						<</if>>
					<</for>>
					<<set $LostCompanions.push($hiredCompanions[_temp_compIndex])>>
					<<set $hiredCompanions.deleteAt(_temp_compIndex)>>
					<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9 with one less companion</button>

				<</if>>
			<</if>>

		<</if>>
	<<elseif _rand==3>>
		While the Elder's tentacles hold you in place, more and more start probing and pushing against your<<if $hiredCompanions.length>0>> and your companion's bodies<<else>> body<</if>>. One tentacle wraps tightly around your arm as another coils around your leg.<<if $mc.vagina==1>>An especially thick tentacle gently brushes against your thigh before retreating.<</if>> <br><br>

		You feel the relentless pressure of the tentacles against you. After an overwhelming ordeal, you suddenly feel a release. The tentacles withdraw, leaving you breathless and disoriented.<br><br>
		<<set $status.duration += (5 - $statRed)>>
		<<set $status.penalty += 5>>
		<<PregCheckTentacle $mc>>
		<<MonsterPregCheckParty>>
		<<checkTime>>
		<<if $mc.womb == 0 >>
			<b>You sense a strange, lingering energy within you, as if the encounter has left an indelible mark on your being, making you ready to conceive the next time this occurs.</b><br><br>
			<<set $mc.events.push(new ElderWombAdded())>>
		<</if>>
		<br>

		<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>
	<<else>>
		/*elder advances a curse line.*/
		<button class="dark-btn obsidian" data-passage="$returnPassage">Return to exploring layer 9</button>
	<</if>>
<</if>>

:: Layer9 notes [image layer9 noreturn]

Relics:

[img[setup.ImagePath+'Clipped-Fin/Abyss Diver Page 10-relics.png']]

Wonders:

[img[setup.ImagePath+'Clipped-Fin/Abyss Diver Page 10-wonders.png']]

Curses: 

[img[setup.ImagePath+'Clipped-Fin/Abyss Diver Page 10-curses.png']]

Threats: 

[img[setup.ImagePath+'Clipped-Fin/Abyss Diver Page 10-threats.png']]

<button class="dark-btn obsidian" onclick="SugarCube.State.backward()">Back</button>

:: Layer9 Travel Events [layer9 nobr]
<<set _triggers = {
	elder: () => !$voidDiamondActive && ($timeL9T1 >= 5 && !$ElderDestroyed),
}>>

<<PassTime _triggers>>

<<if _triggers.elder()>>
	<<if $timeL9<=25>>
		You feel a presence closely observing you.<br> 
		<button class="dark-btn obsidian" data-passage="Layer9 Elder Encounter" data-setter="$returnPassage = passage()">Are you being watched?</button><br>
	<<else>>
		From the depth tentacles start swarming you. It seems the Elder is here and it is done simply observing you.<br> 
		<button class="dark-btn obsidian" data-passage="Layer9 Elder Encounter" data-setter="$returnPassage = passage()">Face off against the Elder</button><br>
	<</if>>
<</if>>

:: Layer9 Camp

<<nobr>>
<h1>Camping</h1>

<<set _random = random(1,3)>>
<<if _random === 1>>
<<= '<img src="' + setup.ImagePath + 'Environments/Layer9Landscape1.png" class="half-size">' >>
<<elseif _random === 2>>
<<= '<img src="' + setup.ImagePath + 'Environments/Layer9Landscape2.png" class="half-size">' >>
<<else>>
<<= '<img src="' + setup.ImagePath + 'Environments/Layer9Landscape3.png" class="half-size">' >>
<</if>>
<</nobr>>

<<include 'CampCode'>>

:: Layer9 Habitation [Layer9 cards nobr]
<h1>Habitation</h1>

<<if !$AgeEndReached>>
	<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue your business on the ninth Layer</button></p>
<</if>>

<<set _ending = "Layer9 Habitation Ending">>

<<HabitationGrid setup.habitationL9>>

<<if !$AgeEndReached>>
	<p><button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue your business on the ninth Layer</button></p>
<</if>>

:: Layer9 Habitation Ending
@@.endingImage;
[img[setup.ImagePath+'Habitation/l9habitation.png']]
@@

<<if !$forcedL9Ending>>As you swim through the vast depths of the ninth layer, each movement of your body propelling you deeper, the mere concept of sunlight seems as distant as the forgotten civilization that left behind the ruins you've found floating in the depths. The world around you darkens, only the smallest shimmers of miasma providing points of light in the all-encompassing gloom.

There, emerging from the inky blackness, is The Elder. Its gargantuan form undulates and writhes, a terrifying leviathan of pure prehistoric power. Enormous tentacles, tipped with luminescent bulbs, swirl around its form like the limbs of some grotesque, underwater deity. The Elder has lived since the dawn of time, grown in the darkness of the ocean's depths, a god unto itself in the alien world below the waves.

Terror seizes your heart as one of the gargantuan appendages snakes out towards you.<</if>> There's nowhere to hide, nowhere to run. You're in The Elder's world now, a mere plaything to this being of unfathomable power and alien intelligence.

It captures you in its inescapable grip, huge suckers pressing into your flesh as it pulls you closer. The air is forced from your lungs, the pressure squeezing the life from your body. You gasp, pulling in water instead of air, your lungs filling with the cold, salty liquid.

Just when you're on the brink of losing consciousness, the Elder allows you a gasp of air, reviving you just enough to prolong your suffering. It plays with you like this, bringing you to the edge of death and then pulling you back, torturing you with the promise of release that never comes.

Eventually, you can't take any more. Your body goes limp, the strength drained from your muscles. The world blurs around you, your senses numbing, and you surrender to the inevitability of your fate.

The Elder's tentacle shifts, bringing you over its massive, throbbing form. Your body is then forcibly attached to its own, like a grotesque graft on a monstrous tree. It begins to invade your body, cell by cell, tissue by tissue, replacing your flesh with its own.

You can feel your identity slipping away, subsumed by the sheer magnitude of The Elder's consciousness. Your thoughts, your feelings, your memories... all are being overwritten, becoming one with The Elder. Your existence as a separate entity ceases, swallowed by the primal mind of the ancient beast.

Soon, all that remains of you is a small part, a minor outgrowth on the colossal form of The Elder. You're no longer an individual, but a part of this alien being. Its alien desires, its unfathomable thoughts, now your own.

As the centuries roll on, you bear witness to the creation of new, horrific tentacle beasts birthed from your own form, each an extension of The Elder's will, spreading its dominion to the upper layers of the Abyss. You feel the perpetual cycle of being used, creating life, and enduring the relentless extraction of your sexual fluids.

And so it continues, for an eternity that stretches out until the stars burn out, and beyond. The Elder, with you as a part of it, continues its endless existence in the dark depths of the Abyss, a silent, terrible god in its underwater domain.

@@.layerTitle;<h1>THE END</h1>@@

:: Catastrophe Layer Destruction[nobr]
<<= '<img src="' + setup.ImagePath + 'Threats/catastropheexplosion1.png" class="half-size">' >><br><br>

As your fingers hover over the trigger of the Catastrophe - a weapon of unfathomable power, a tempest contained within iron and steel - you feel the weight of your decision. This device, designed to unleash a cataclysmic force, is your last resort against the Elder. With a deep breath that tastes of determination, you press the button.

In an instant, the Abyss transforms. A colossal orb of incandescent fire erupts, a sun birthed in the heart of the ocean. The water around it vaporizes in a seething frenzy, creating a maelstrom of steam and energy. The explosion radiates outward, a relentless tide of destruction. Fish, once gliding through the water with effortless grace, are instantly obliterated. The Elder's tentacles meet their end in a blinding inferno, even if the main body is too far away to truly be killed.
<<if $hiredCompanions.length>0>>
Through the turbulent waters and the shimmering heat, you glimpse the silhouette of $hiredCompanions[0].name one last time. Their form, a steadfast presence throughout your journey, flickers and distorts, like a mirage being swallowed by the desert sun. In a heart-wrenching moment, $hiredCompanions[0].name vanishes, erased from existence.
	<<if $hiredCompanions.length>1>>
		One by one, your other companions are engulfed by the relentless surge of plasma and fire. Their faces, their stories, flash before your eyes, each a memory now lost to the all-consuming Catastrophe.
	<</if>>
<<for _i=0; _i<$hiredCompanions.length; _i++>>
	<<set $LostCompanions.push($hiredCompanions[_i])>>
<</for>>
<<set $hiredCompanions = []>>
<br>
<</if>>
In these final moments, as the shockwave from the explosion engulfs you, the world around you becomes a blur of motion and light. Your equipment, once your lifeline in the deep, is now just debris caught in the maelstrom. You feel the searing heat as the ball of fire expands, reaching out to claim you. Your thoughts scatter, fragmented by the realization of your impending demise. In the last tick of time, you are atomized, becoming one with the cataclysm you unleashed.
<<set $gameOver = true>>
<<set $ElderDestroyed = true>>
<<set $CatastropheUsed = $time>>
<<for _i = 0; _i<$items.length; _i++>>
	<<set $items[_i].count=0>>
<</for>>
<<if $ownedRelics.some(r=> r.name === "Phoenix Obol")>>
	<<set _phoenix = true>>
<</if>>
<<for _i=0; _i<$ownedRelics.length; _i++>>
	<<if $ownedRelics.name != "Phoenix Obol">>
		<<set $lostRelics.push($ownedRelics[_i])>>
	<</if>>
<</for>>
<<set $ownedRelics=[]>>
<<if _phoenix>>
	<<set $ownedRelics.push($relic76)>>
<</if>>
<<set $dubloons = 0>>
<br><br>
<button class="dark-btn obsidian" data-passage="Layer9 Hub">Next</button>

:: Layer9 Preview [image layer9]
As you bring the charm up to your eye and gaze deep into the red crystal, your vision fades and a new image comes clearly into view:

@@.layerTitle;
[img[setup.ImagePath+'Layer Intros/l9intro.png']]
!Layer 9 - Reaches of Oceanus
@@

As this layer is entirely underwater, ascending is actually relatively fast here. Returning to the eight layer will take 20 days and 120 corruption normally.

You float in an endless expanse of deep water. The stillness of the water is only interrupted by a hint of something sinister, something beyond all other threats, lurking just out of view. A sense of unease overwhelms you, but suddenly the image shifts and you see the splendor of the Relics that are available on this layer.

[img[setup.ImagePath+'Clipped-Fin/Abyss Diver Page 10-relics.png']]

As an image of the wonders you might find on this layer starts to come into focus, an intense feeling of humility washes through you.

[img[setup.ImagePath+'Clipped-Fin/Abyss Diver Page 10-wonders.png']]

The mystical possibilities of the wonders fade from your view and you suddenly feel nauseous, as if a huge amount of miasma was suddenly sucked into your chest. You visualize the corruptions and Curses that may afflict you in the layer below.

[img[setup.ImagePath+'Clipped-Fin/Abyss Diver Page 10-curses.png']]

Finally the nauseous feeling passes but is replaced by a brief sense of terror as you get a glimpse of the threats that await you on the layer. 

[img[setup.ImagePath+'Clipped-Fin/Abyss Diver Page 10-threats.png']]

But you aren't just looking at The Elder. The Elder is looking back at you. Even as your vision reaches through time, you can feel one of its many eyes following you, watching you as much as you watch it.\
<p class="elder-entity">Why are you <span class="light">here</span>? Why are you watching through time?

Do you wish to <span class="light">die</span>?</p>\

A cold sweat washes over you and a sense of revulsion forces you to retch.

Finally, the vision fades, leaving you standing once again where you were before, with only a brief sense of motion sickness as you orient yourself back to your physical body. As you look at the Gleam Dazer once again, you notice the Relic is cracked and broken.

<button class="dark-btn obsidian" data-passage="$previewReturn" data-setter="setup.loseRelic('Gleam Dazer')">Return</button>


:: Layer9 Cherry [layer9]
[img[setup.ImagePath+'Surface/cherry.png']]

How would you like to use Cherry's chaotic luck ability?

<<nobr>>
    <div class="menu-item">
        <button class="dark-btn obsidian" data-passage="Layer9 Cherry Relic">Get 2 random Relics for half cost</button>
    </div>
    <div class="menu-item">
        <button class="dark-btn obsidian" data-passage="Layer9 Cherry Curse">Get 2 random Curses for +50% corruption</button>
    </div>
    <div class="menu-item">
        <button class="dark-btn obsidian" data-passage="Layer9 Cherry Mix">Get 1 Relic and 1 Curse</button>
    </div>
<</nobr>>

:: Layer9 Cherry Relic [layer9]
<<nobr>>
<<set $temp1 = random(0,11) + 96>>
<<set $temp2 = random(0,11) + 96>>
<<for $i = 0; $i < 1; $i>>
	<<set $temp2 = random(0,11) + 96>>
	<<if $temp1 !== $temp2>>
		<<break>>
	<</if>>
<</for>>
<<set $ownedRelics.push($relics[$temp1])>>

<<set $corruption -= Math.floor(Math.max(($relics[$temp1].corr / 2) - $corRed, 0))>>
<<set $ownedRelics.push($relics[$temp2])>>

<<set $corruption -= Math.floor(Math.max(($relics[$temp2].corr / 2) - $corRed, 0))>>
<</nobr>>

The Relics you have found with Cherry's Chaotic Luck are $relics[$temp1].name and $relics[$temp2].name for a cost of <<print Math.floor(Math.max(($relics[$temp1].corr / 2) - $corRed, 0))>> and <<print Math.floor(Math.max(($relics[$temp2].corr / 2) - $corRed, 0))>> corruption respectively.

<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue on to the rest of the layer</button>

<<if $ownedRelics.some(e => e.name === "Devil's Own")>>

	You have a single chance to bend fate using the mystical luck of the Devil's Own. Cherry's fate is strong, so you only get 1 chance to use this effect on your entire adventure. Would you like to reroll Cherry's Chaotic Luck?

	<<link "Reroll with Devil's Own" "Layer9 Cherry Relic">>
		<<set $ownedRelics.deleteAt($ownedRelics.length-1)>>
		<<set $corruption += Math.floor(Math.max(($relics[$temp1].corr / 2) - $corRed, 0))>>
		
		<<set $ownedRelics.deleteAt($ownedRelics.length-1)>>
		<<set $corruption += Math.floor(Math.max(($relics[$temp2].corr / 2) - $corRed, 0))>>

		<<set setup.loseRelic("Devil's Own")>>
	<</link>>

<</if>>


:: Layer9 Cherry Curse [layer9]
<<nobr>>
<<set $temp1 = random(0,11) + 108>>
<<set $temp2 = random(0,11) + 108>>
<<for $i = 0; $i < 1; $i>>
	<<set $temp1 = random(0,11) + 108>>
	<<set $temp2 = random(0,11) + 108>>
	<<if ($temp1 !== $temp2) && !($mc.hasCurse("Shrunken Assets") && ($temp1 === 110 || $temp2 === 110) )>>
		<<break>>
	<</if>>
<</for>>
<<set _curse1 = setup.curseByNum($temp1)>>
<<set _curse2 = setup.curseByNum($temp2)>>
<<set $mc.addCurse(_curse1)>>
<<set $mc.addCurse(_curse2)>>
<<set _curse1.corr = Math.round(Math.max((_curse1.corr * 3 / 2), 0))>>
<<set _curse2.corr = Math.round(Math.max((_curse2.corr * 3 / 2), 0))>>
<<set $corruption += _curse1.corr>>
<<set $corruption += _curse2.corr>>
<</nobr>>

The Curses you have obtained with Cherry's Chaotic Luck are _curse1.name and _curse2.name for a cost of _curse1.corr and _curse2.corr corruption respectively.

<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue on to the rest of the layer</button>

<<if $ownedRelics.some(e => e.name === "Devil's Own")>>

	You have a single chance to bend fate using the mystical luck of the Devil's Own. Cherry's fate is strong, so you only get 1 chance to use this effect on your entire adventure. Would you like to reroll Cherry's Chaotic Luck?

	<<link "Reroll with Devil's Own" "Layer9 Cherry Curse">>
		<<set $corruption -= _curse1.corr>>
		<<RemoveCurse _curse1>>
		
		<<set $corruption -= _curse2.corr>>
		<<RemoveCurse _curse2>>

		<<set setup.loseRelic("Devil's Own")>>
	<</link>>

<</if>>


:: Layer9 Cherry Mix []
<<nobr>>
<<set $temp1 = random(0,11) + 96>>
<<for $i = 0; $i < 1; $i>>
	<<set $temp2 = random(0,11) + 108>>
	<<if !($mc.hasCurse("Shrunken Assets") && $temp2 === 110)>>
		<<break>>
	<</if>>
<</for>>
<<set $ownedRelics.push($relics[$temp1])>>

<<set $corruption -= Math.floor(Math.max(($relics[$temp1].corr / 2) - $corRed, 0))>>
<<set _curse = setup.curseByNum($temp2)>>
<<set $mc.addCurse(_curse)>>
<<set _curse.corr = Math.round(Math.max((_curse.corr * 1.5), 0))>>
<<set $corruption += $_curse.corr>>
<</nobr>>

With Cherry's Chaotic Luck you have found the Relic $relics[$temp1].name for a cost of <<print Math.floor(Math.max(($relics[$temp1].corr / 2) - $corRed, 0))>> corruption and obtained the Curse _curse.name for a gain of _curse.corr corruption respectively.

<button class="dark-btn obsidian" data-passage="Layer9 Hub">Continue on to the rest of the layer</button>

<<if $ownedRelics.some(e => e.name === "Devil's Own")>>

	You have a single chance to bend fate using the mystical luck of the Devil's Own. Cherry's fate is strong, so you only get 1 chance to use this effect on your entire adventure. Would you like to reroll Cherry's Chaotic Luck?

	<<link "Reroll with Devil's Own" "Layer9 Cherry Mix">>
		<<set $ownedRelics.deleteAt($ownedRelics.length-1)>>
		<<set $corruption += Math.floor(Math.max(($relics[$temp1].corr / 2) - $corRed, 0))>>
		
		<<set $corruption -= _curse.corr>>
		<<RemoveCurse _curse>>
		<<set setup.loseRelic("Devil's Own")>>
	<</link>>

<</if>>